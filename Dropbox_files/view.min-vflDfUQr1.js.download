define(["require","exports","tslib","external/classnames","external/react","modules/core/i18n","modules/clean/auth/common/inputs/checkbox","modules/clean/auth/common/inputs/text","modules/clean/auth/common/recaptcha","modules/clean/auth/common/types","modules/clean/auth/register/google_register_button","modules/clean/auth/register/name_fields","modules/clean/react_format"],function(e,t,s,a,r,o,i,n,p,l,m,h,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setCaptchaComponent=function(e){t.captchaComponent=e},t}return s.__extends(t,e),t.prototype.handleRecaptchaErrors=function(e){p.handle_recaptcha_errors(this.captchaComponent,e)},t.prototype.getRecaptchaComponent=function(){return this.captchaComponent},t.prototype.getRecaptchaResponses=function(){return p.get_recaptcha_responses(this.captchaComponent)},t.prototype.render=function(){var e=a("form_shown","login-form-container","register",this.props.className,this.props.variant,{third_party_auth:this.props.thirdPartyInitiatedSignup}),t=this.props.tosCheckboxProps||{},s=void 0;t.unsafeLabelHTML||(s=c.reactFormat(o._("I agree to the <a>Dropbox Terms</a>"),{a:r.createElement("a",{href:"/terms",target:"_blank",rel:"noreferrer noopener"})}));var u=this.props.submitButtonProps||{},d=a("login-button","button-primary",u.className,{"button-small":u.variant===l.AuthButtonVariant.SMALL,"button-big":u.variant===l.AuthButtonVariant.BIG}),b=!!this.props.googleRegisterProps,g=this.props.googleRegisterProps||{},_=r.createElement(m.GoogleRegisterButton,{onClick:this.props.onGoogleRegisterClick,disabled:this.props.disabled||this.props.isSubmitting,variant:g.variant,buttonProps:g.buttonProps}),f=r.createElement("div",{className:"hr-label"},r.createElement("span",{className:"hr-label__text"},o._("or"))),v=this.props.emailProps||{},y=a("input-email","text-input__margin-right",v.className),E=this.props.passwordProps||{},S=a("input-password",E.className),C=this.props.maestroStyle;return"TOP"===g.position?C=!0:"BOTTOM"===g.position&&(C=!1),r.createElement("div",{className:e},r.createElement("form",{className:"clearfix credentials-form register-form",onSubmit:this.props.onClickSignUp,method:"post"},C&&b&&_,C&&b&&f,r.createElement("div",{className:"credentials-form__fields"},r.createElement(h.RegisterFormNameFields,{maestroStyle:this.props.maestroStyle,onInputChange:this.props.onInputChange,combinedName:this.props.combinedName,fnameError:this.props.fnameError,fnameProps:this.props.fnameProps,lnameProps:this.props.lnameProps,fnameValue:this.props.fnameValue,lnameValue:this.props.lnameValue,disabled:this.props.disabled,variant:this.props.variant}),r.createElement("div",{className:"register-form__credential-fields"},r.createElement(n.AuthTextField,{value:this.props.emailValue,className:y,onChange:this.props.onInputChange,disabled:this.props.disabled||v.readonly||!1,label:v.label||(this.props.maestroStyle?o._("Email"):void 0),placeholder:v.placeholder||(this.props.maestroStyle?o._("you@mail.com"):o._("Email")),error:this.props.emailError,maestroStyle:this.props.maestroStyle,name:"email",type:l.AuthTextInputType.EMAIL,variant:this.props.variant}),!this.props.thirdPartyInitiatedSignup&&r.createElement(n.AuthTextField,{value:this.props.passwordValue,placeholder:E.placeholder||(this.props.maestroStyle?o._("Minimum 6 characters"):o._("Password")),name:"password",className:S,inputClassName:"password-input",onChange:this.props.onInputChange,measureStrength:E.measureStrength,label:E.label||(this.props.maestroStyle?o._("Password"):void 0),error:this.props.passwordError,maestroStyle:this.props.maestroStyle,disabled:this.props.disabled,variant:this.props.variant,passwordStrengthProps:E.strengthMeterProps,type:l.AuthTextInputType.PASSWORD}))),r.createElement(p.Recaptcha,{ref:this.setCaptchaComponent,email:this.props.emailValue,endpoint:this.props.recaptchaEndpoint,error:this.props.recaptchaError,onSubmit:this.props.onSubmit,source:"REGISTER",use_invisible_recaptcha_if_available:!0}),r.createElement(i.AuthCheckbox,{variant:t.variant||this.props.variant,className:"agree",disabled:t.disabled||this.props.disabled,maestroStyle:this.props.maestroStyle,error:this.props.tosError,inline:void 0===t.inline||t.inline,onChange:this.props.onInputChange,name:"tos_agree",checked:this.props.tosChecked,label:t.label||s,unsafeLabelHTML:t.unsafeLabelHTML}),r.createElement("button",{className:d,type:"submit",disabled:this.props.disabled||u.disabled||this.props.isSubmitting},r.createElement("span",null,u.text||o._("Create an account"))),!C&&b&&f,!C&&b&&_))},t})(r.Component);t.RegisterFormView=u});
//# sourceMappingURL=view.min.js-vflNLu-tE.map