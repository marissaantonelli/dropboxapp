define("modules/clean/business/components/snap_engage_link",["require","exports","modules/clean/intercom","modules/clean/snapengage"],function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(function(){function e(e,t){var n=this;this.handleClick=function(e){e.preventDefault(),"support"===n.options.chatType?r.DropboxSnapEngage.startSupportChat(n.options.supportWidgetId):n.options.expSubgrowthBizIntercom?a.DropboxIntercom.startReactiveChat():r.DropboxSnapEngage.startReactiveChat()},this.options=t,e.on("click",this.handleClick)}return e})();t.SnapEngageLink=n}),define("modules/clean/components/password_strength_meter",["require","exports","tslib","external/react","external/classnames","modules/core/i18n","modules/clean/react/css","modules/clean/react/bubble_dropdown_v2","modules/clean/web_timing_logger"],function(e,t,a,r,n,s,o,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(t){function o(a){var r=t.call(this,a)||this;return r.setZxcvbn=function(e){r.setState({zxcvbn:e})},r.getPasswordScore=function(e){return r.state.zxcvbn?r.state.zxcvbn(e).score:0},r.state={},a.zxcvbnPostTti?c.waitForTTI().then(function(){e(["external/zxcvbn"],r.setZxcvbn)}):e(["external/zxcvbn"],r.setZxcvbn),r}return a.__extends(o,t),o.prototype.render=function(){var e=this.props.password,t=e.length?Math.max(1,this.getPasswordScore(e)):0,a=["",s._("Weak"),s._("So-so"),s._("Good"),s._("Great!")],o=[4,3,2,1],c="RIGHT";this.props.bubblePosition&&this.props.bubblePosition in i.BubbleDropdown.POSITIONS&&(c=this.props.bubblePosition);var l=this.props.bubbleDescription;return l||(l=s._("Passwords must be 6 characters or more. Good passwords             are hard to guess and use uncommon words, numbers, symbols, and             uppercase letters.")),r.createElement("div",{className:"password-input-meter "+this.props.className,tabIndex:-1,"aria-label":s._("Password strength")},o.map(function(e){var a=n({"password-input-dot":!0,"password-input-dot-selected--weak":t>=e&&t<=2,"password-input-dot-selected":t>=e});return r.createElement("div",{key:"password-input-dot-"+e,className:a})}),r.createElement(i.BubbleDropdown,{position:i.BubbleDropdown.POSITIONS[c],targetButton:r.createElement("button",{className:"password-bubble__button"}),className:this.props.bubbleClassName},r.createElement("div",{className:"password-bubble__content"},r.createElement("div",{className:"password-bubble__title"},a[t]||""),r.createElement("div",{className:"password-bubble__desc"},l))))},o})(r.Component);t.PasswordStrengthMeter=o(l,["/static/css/components/password_strength_meter-vflAqZDga.css"])}),define("modules/clean/react/business/components/headers/payments_header",["require","exports","tslib","external/react","modules/core/i18n","modules/clean/react/arbor/aspen/elements/arbor_supernav"],function(e,t,a,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,a=e.phoneNumber,o=e.fixed,i=e.glyph,c=e.wordmark,l=[{title:n._("Contact sales"),children:[{title:n._("Email"),url:"/business/contact",type:"email",disabled:!1},{title:n._("%(phone_number)s").format({phone_number:a}),url:"tel:%(phone_number)s".format({phone_number:a}),type:"phone",disabled:!a}]}];return r.createElement(s.ArborSuperNav,{className:t,fixed:o!==!1,leftAlignLogo:!0,logoPlatform:"business",navLinksRight:l,glyph:i,wordmark:c})},t})(r.Component);t.PaymentsHeader=o}),define("modules/clean/react/business/components/headers/simple_header",["require","exports","tslib","external/react","modules/core/i18n","modules/clean/react/arbor/aspen/elements/arbor_supernav"],function(e,t,a,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.trialDays,a=e.isTryItFree;return r.createElement(s.ArborSuperNav,{className:this.props.className,leftAlignLogo:!0,navCTA:{title:a?n._("Try it free"):n._("Try free for %(trial_days)s days").format({trial_days:t}),url:"/business/try"},fixed:!0,logoPlatform:"business",makeRightCtaPrimary:this.props.makeRightCtaPrimary,glyph:this.props.glyph,wordmark:this.props.wordmark})},t})(r.Component);t.SimpleHeader=o}),define("modules/clean/react/payments/business/actions/action_creator",["require","exports","external/redux","external/lodash","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/business/actions/actions"],function(e,t,a,r,n,s){"use strict";function o(e){return a.bindActionCreators(m(),e)}function i(e){var t=c(l(),m());return a.bindActionCreators(t,e)}function c(e,t){return r.assignIn(e,t)}function l(){return{submitTeamAddBillingForm:s.submitAddBillingForm}}function m(){return{blurEmail:n.blurEmail,blurFullName:n.blurFullName,clickGoogleSignup:n.clickGoogleSignup,fetchCaptcha:n.fetchCaptcha,fetchSubChangePlans:s.fetchSubChangePlans,showFormFieldErrors:n.showFormFieldErrors,submitTeamForm:s.submitTeamForm,toggleExistingAccount:s.toggleExistingAccount,updateFormStep:s.updateFormStep,updateCountryCode:n.updateCountryCodeAndPrice,updateFirstName:n.updateFirstName,updateFullName:n.updateFullName,updateLastName:n.updateLastName,updateEmail:n.updateEmail,updatePassword:n.updatePassword,updateTeamName:n.updateTeamName,updateTeamPhone:n.updateTeamPhone,updateCompanySize:n.updateCompanySize,updateNumberOfUsers:n.updateNumberOfUsers,updateSchedule:n.updateSchedule,updateProductPlanType:n.updateProductPlanType,updatePaymentMethod:n.updatePaymentMethod,updateZipCode:n.updateZipCodeAndPrice,updateVat:n.updateVatAndPrice,updateCpf:n.updateCpf,updateCpfName:n.updateCpfName,updateNonce:n.updateNonce,updateBIN:n.updateBIN,updateAccountHolderName:n.updateAccountHolderName,updateIBAN:n.updateIBAN,updateMandateSigned:n.updateMandateSigned,updateTermsAndService:n.updateTermsAndService,updateCaptcha:n.updateCaptcha,updateHasMarkedTTI:s.updateHasMarkedTTI,updateEmailsToInvite:n.updateEmailsToInvite,updateFormHeight:s.updateFormHeight,updateRevealedSteps:s.updateRevealedSteps}}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTeamBuyActions=o,t.bindTeamAddBillingActions=i}),define("modules/clean/react/payments/business/actions/actions",["require","exports","tslib","modules/clean/ajax_as_promised","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/business/state/state","modules/clean/react/payments/checkout/components/modals/login_modal","modules/clean/payments/skus/constants","modules/clean/stormcrow/experiment","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/pricing_data","modules/core/i18n","modules/core/notify","modules/clean/react/payments/common/pricing/actions/actions"],function(e,t,a,r,n,s,o,i,c,l,m,u,p,d,h){"use strict";function _(e,t,a){return void 0===a&&(a={}),function(r,o){var i=o(),c=i.formData,m=i.pageState,u=c.countryCode.formattedValue,p=m.experiments,d=m.paymentFormSpec,h=m.existingAccountShowing;if(c.productPlanType.formattedValue){var _=["numberOfUsers","schedule","termsAndService","countryCode"];m.isTrial||_.push("teamName","teamPhone","companySize");var g=m.isTrial&&l.Experiment(p.subgrowthBizTryMergeFirstLast).variantIs("V1"),f=!m.isTrial&&l.Experiment(p.subgrowthBizBuyMergeFirstLast).variantIs("V1");h||(g||f?_.push("firstName","email","password"):_.push("firstName","lastName","email","password")),l.Experiment(p.subgrowthBizNoCcTrials).isActive||(_.push("paymentMethod"),d.allow_zip_code_for_country(u)&&_.push("zipCode"),d.should_show_vat_for_country(u)&&_.push("vat"),p.showCpf&&"BR"===u&&_.push("cpf","cpfName"),c.paymentMethod.formattedValue===n.PaymentMethod.CreditCard?(_.push("nonce"),_.push("bin")):c.paymentMethod.formattedValue===n.PaymentMethod.DirectDeposit&&_.push("accountHolderName","iban","mandateSigned")),m.needsCaptcha&&_.push("captcha"),v(a,i).then(function(a){r(s.submitForm(e,_,t,a))})}}}function g(e,t){return function(a,r){var n=r(),i=n.pageState,c=n.formData,l=i.formStep,m=[];if(void 0!==e){if(e===l&&t!==T.PreSelectedSku)return}else e=l+1;var u=i.experiments;if(i.isTrial){var p=o.TryFormSteps(),d=p.planSelectionStep,h=p.paymentInfoStep;e===d?i.existingAccountShowing||(m="V1"===u.subgrowthBizTryMergeFirstLast?m.concat(["firstName","email","password"]):m.concat(["firstName","lastName","email","password"]),i.needsCaptcha&&(m=m.concat(["captcha"]))):e===h&&(m=m.concat(["schedule","numberOfUsers"]))}t===T.RestoreContinueButton&&(m=m.concat(["teamName","teamPhone","companySize","emailsToInvite"])),s.isValidSubmitState(c,m)?(a({type:"UpdateFormStep",step:e,origin:t}),window.location.hash=e.toString(),window.scrollTo(0,0)):a(s.showFormFieldErrors(m,"UpdateFormStep"))}}function f(e){return function(t,a){var r=a();if(r.pageState.userInfo.existingAccount)t({type:"ToggleExistingAccount",show:e});else{var n=p._("Sign in to your existing account");i.LoginModal.getInstance(n).updateRedirectUrl(r.formData.productPlanType.rawValue).show()}}}function y(e,t,a){return function(r,o){var i=o(),c=i.formData,l=i.pageState,m=c.countryCode.formattedValue,u=l.paymentFormSpec;if(c.productPlanType.formattedValue){var p={should_redirect:!1,from_add_billing_page:!a},d=["numberOfUsers","schedule","countryCode","paymentMethod"];u.allow_zip_code_for_country(m)&&d.push("zipCode"),u.should_show_vat_for_country(m)&&d.push("vat"),l.experiments.showCpf&&"BR"===m&&d.push("cpf","cpfName"),i.formData.paymentMethod.formattedValue===n.PaymentMethod.CreditCard?(d.push("nonce"),d.push("bin")):i.formData.paymentMethod.formattedValue===n.PaymentMethod.DirectDeposit&&d.push("accountHolderName","iban","mandateSigned"),a&&d.push("teamName","teamPhone","companySize","emailsToInvite","termsAndService"),v(p,i).then(function(n){var o="/team/payments/ajax_add_billing";t&&!a||(o="/business/ajax_create_team_buy"),r(s.submitForm(o,d,e,n))})}}}function v(e,t){return a.__awaiter(this,void 0,void 0,function(){var r,n,s,o,i,l,m,u,p;return a.__generator(this,function(a){return r=t.formData,n=t.pricingState,s=t.pageState,o=r.schedule.formattedValue,i=r.productPlanType.formattedValue,l=n.subChangePlans.withSchedule(o).withProductPlanType(i).plans.pop(),l&&(m=l.tvm,e.sub_change_plan=JSON.stringify(l)),u=s.existingAccountShowing,e.account_info_type=u?"existing":"new",e.currency=m&&m.getCurrency(),e.expected_price=m&&m.getExpectedPriceToken(),e.tos_version="3",e.is_pre_select=s.isPreSelect,p=n.discountInfo,p&&(p.cashCode&&(e.code=p.cashCode),p.discountCode&&(r.schedule.formattedValue===c.ScheduleId.YEARLY||p.allowMonthly)&&(e.dcode=p.discountCode),p.resellerHash&&(e.reseller_hash=p.resellerHash,e.reseller_discount=p.discountRatio)),e.ignore_bad_emails_silently=!0,[2,e]})})}function S(e,t,a,n,s){return function(o,i){var c=a?a.cashCode:void 0,l=a?a.discountCode:void 0,p=a?a.resellerHash:void 0,_=a?a.discountRatio:void 0,g={is_trial:e,plan_id:t,code:c,dcode:l,reseller_hash:p,reseller_discount:_,user_info:JSON.stringify(n),team_info:JSON.stringify(s)};o(h.updateTransitionsStart()),r.WebRequest({type:"GET",url:"/business/ajax_fetch_sub_change_plans",data:g}).then(function(e){var t=JSON.parse(e);h.updateTransitionsSuccess(o,t.map(m.SubscriptionChangePlan.deserialize))}).catch(function(){d.Notify.error(u.PricingDataException.notifyErrorMessage,20)})}}function b(){return{type:"UpdateHasMarkedTTI"}}function E(e){return function(t,a){t({type:"UpdateFormHeight",newHeight:e})}}function x(e){return function(t,a){t({type:"UpdateRevealedSteps",step:e})}}Object.defineProperty(t,"__esModule",{value:!0});var T;(function(e){e[e.HashChange=0]="HashChange",e[e.ContinueButton=1]="ContinueButton",e[e.SelectStandardButton=2]="SelectStandardButton",e[e.SelectAdvancedButton=3]="SelectAdvancedButton",e[e.PreSelectedSku=4]="PreSelectedSku",e[e.RestoreContinueButton=5]="RestoreContinueButton"})(T=t.UpdateFormStepOrigins||(t.UpdateFormStepOrigins={})),t.submitTeamForm=_,t.updateFormStep=g,t.toggleExistingAccount=f,t.submitAddBillingForm=y,t.fetchSubChangePlans=S,t.updateHasMarkedTTI=b,t.updateFormHeight=E,t.updateRevealedSteps=x}),define("modules/clean/react/payments/business/components/help_section/buy_help_section",["require","exports","tslib","external/react","modules/clean/analytics","modules/clean/react/sprite_div","modules/core/i18n","modules/constants/python","modules/clean/react/payments/checkout/components/help_section/order_summary","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react_format","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/stormcrow/stormcrow_exposure_logger","modules/clean/stormcrow/experiment"],function(e,t,a,r,n,s,o,i,c,l,m,u,p,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loggedSubgrowthBizBuyRemoveSummary=!1,t.renderNCCTFAQSection=function(){var e=t.props,a=e.ncctVariant,n=e.trialIsActive,s=o._("Your free trial period won’t be affected. You will be charged after your free trial ends on       %(trial_end_date)s and your plan will transition without interruption.").format({trial_end_date:t.props.trialEndDate});if(h.Experiment(a).variantIn("V7","V9","V10","V11","V12","V13")){if(!n)return;s=o._("Your free trial period won’t be affected. You won’t be charged until after your free           trial ends on %(trial_end_date)s and your plan will transition without interruption.").format({trial_end_date:t.props.trialEndDate})}return r.createElement("div",{className:"section grid__container--p-small"},r.createElement("h1",{className:"type--help-title"},o._("What happens to my free trial?")),r.createElement("p",{className:"type--help-copy"},s))},t}return a.__extends(t,e),Object.defineProperty(t.prototype,"expSubgrowthBizBuyRemoveSummary",{get:function(){return h.Experiment(this.props.experiments.subgrowthBizBuyRemoveSummary)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expSubgrowthBizBuyIndicateSKU",{get:function(){return h.Experiment(this.props.experiments.subgrowthBizBuyIndicateSKU)},enumerable:!0,configurable:!0}),t.prototype.renderInvoicePayments=function(){var e=this.props.countryCode.toLowerCase(),t=r.createElement("a",{key:"business-help-section-contact-link",href:"/business/contact"});return"de"===e?m.reactFormat(o._("For 15 or more licenses, we accept payments by bank transfer.            Please <a>contact sales</a> for an invoice."),{a:t}):i.EU_COUNTRIES.indexOf(e)>-1?m.reactFormat(o._("If you require an invoice to make a payment,            please <a>contact our sales team</a>."),{a:t}):m.reactFormat(o._("For 15 or more licenses, we accept payments by bank transfer or check.            Please <a>contact sales</a> for an invoice."),{a:t})},t.prototype.logSubgrowthBizBuyRemoveSummary=function(e){if(!this.loggedSubgrowthBizBuyRemoveSummary){(new d.StormcrowExposureLogger).logExposure("subgrowth_biz_buy_remove_summary",e),this.loggedSubgrowthBizBuyRemoveSummary=!0}},t.prototype.renderOrderSummary=function(e){var t=this.props,a=t.discountInfo,s=t.experiments,o=t.formStep,i=t.ncctVariant,l=t.numberOfUsers,m=t.pricingData,u=t.schedule,p=t.productPlanType,d=t.taxNamesByCountry,h=t.trialIsActive,_=t.subChangePlans;if(!p)return null;var g,f,y=_.withProductPlanType(p),v=y.withSchedule(u).plans.pop(),S=y.monthly().plans.pop();if(g=v&&v.tvm,f=S&&S.tvm,this.expSubgrowthBizBuyRemoveSummary.variantIn("CONTROL","V1")&&g){var b=g.getTaxCountryCode()&&g.getTaxPercentage()>0,E=0!==m.getPromoDiscount();if(b||E)this.expSubgrowthBizBuyRemoveSummary.variantIs("V1")&&n.TeamsWebActionsLogger.log("react_checkout_buy_action",{type:"ToggleOrderSummary",showing:!0});else if(this.logSubgrowthBizBuyRemoveSummary(this.expSubgrowthBizBuyRemoveSummary.variant),this.expSubgrowthBizBuyRemoveSummary.variantIs("V1"))return n.TeamsWebActionsLogger.log("react_checkout_buy_action",{type:"ToggleOrderSummary",showing:!1}),null}return r.createElement(c.OrderSummary,{className:"grid__item--order-1 grid__item--medium--order-"+("top"===e?"1":"2"),discountInfo:a,experiments:s,formStep:o,monthlyTransition:f,ncctVariant:i,numberOfUsers:l,pricingData:m,schedule:u,taxNamesByCountry:d,transition:g,trialIsActive:h})},t.prototype.renderFeatureList=function(){var e=this.props.productPlanType,t=[o._("Individual Dropbox account for each user"),o._("Space for your team to share and collaborate"),o._("120 days of file recovery and versioning"),o._("Admin controls and priority support")];e&&this.expSubgrowthBizBuyIndicateSKU.variantIs("V1")&&(e===u.ProductPlanType.NEW_STANDARD?t=[this.props.pricingData.getPlanDisplaySpace(),o._("Smart Sync to save hard drive space"),o._("Admin console and audit log"),o._("120 days of file recovery")]:e===u.ProductPlanType.ADVANCED&&(t=[o._("As much space as your team needs"),o._("Smart Sync to save hard drive space"),o._("Advanced admin controls"),o._("120 days of file recovery")]));var a=t.map(function(e,t){return r.createElement("li",{key:"buy-feature-"+t},r.createElement(s,{group:"business",name:"check-blue"}),r.createElement("span",null,e))});return r.createElement("ul",{className:"type--help-copy help__feature-list"},a)},t.prototype.renderInfoSection=function(){var e=this.props.productPlanType,t=o._("What is %(trademark_business)s?").format({trademark_business:p.TRADEMARK_BUSINESS});return e&&this.expSubgrowthBizBuyIndicateSKU.variantIs("V1")&&(e===u.ProductPlanType.NEW_STANDARD?t=o._("%(sku)s plan").format({sku:p.TRADEMARK_BUSINESS_STANDARD}):e===u.ProductPlanType.ADVANCED&&(t=o._("%(sku)s plan").format({sku:p.TRADEMARK_BUSINESS_ADVANCED}))),r.createElement("div",{className:"section"},r.createElement("h1",{className:"type--help-title"},t),this.renderFeatureList())},t.prototype.render=function(){var e=this.props,t=e.countryCode,a=e.experiments,n=e.ncctVariant,s=e.paymentSpec,i=e.productPlanType,c=e.trialIsActive;if(!i)return null;var m,u,p=[],d=[],_=s.available_payment_methods_for_country(t),g=null;if(_.indexOf(l.PaymentMethod.CreditCard)>-1)for(var f=s.supported_credit_cards_for_country(t),y=0,v=f;y<v.length;y++){var S=v[y];d.push(S),m="supported-payment-icon#"+S,p.push(r.createElement("span",{key:m,className:S}))}if(_.indexOf(l.PaymentMethod.PayPal)>-1&&(d.push("paypal"),m="supported-payment-icon#paypal",p.push(r.createElement("span",{key:m,className:"paypal helper"}))),d){var b=d.join(", ").replace("_","-"),E=o._("We accept %(payment_methods)s").format({payment_methods:b});g=r.createElement("span",{className:"ax-visually-hidden"},E)}u=r.createElement("div",{className:"section"},r.createElement("h1",{className:"type--help-title"},o._("Accepted payment types")),r.createElement("div",{className:"payment-options grid__item grid--y-middle"},g,p),r.createElement("div",{className:"invoice-payments type--help-copy"},this.renderInvoicePayments()));var x;h.Experiment(n).variantIn("V3","V4","V5","V6","V7","V8","V9","V10","V11","V12","V13")&&c&&(x=this.renderNCCTFAQSection());var T=h.Experiment(a.subgrowthBizBuySummaryToTop),P=T.variantIs("V1");return r.createElement("div",{className:"grid__item grid__item--stack business-help-section"},P&&this.renderOrderSummary("top"),r.createElement("div",{className:"section-container grid__item--order-2 grid__item--medium--order-1"},x,this.renderInfoSection(),u),!P&&this.renderOrderSummary("bottom"))},t})(r.Component);t.BuyHelpSection=_}),define("modules/clean/react/payments/business/components/help_section/try_feature_list",["require","exports","tslib","external/react","modules/clean/react/sprite_div","modules/core/i18n","modules/clean/stormcrow/experiment","modules/constants/trademark","modules/clean/payments/skus/constants"],function(e,t,a,r,n,s,o,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),Object.defineProperty(t.prototype,"expSubgrowthBizTryIndicateSKU",{get:function(){return o.Experiment(this.props.experiments.subgrowthBizTryIndicateSKU)},enumerable:!0,configurable:!0}),t.prototype.renderHeading=function(){var e=this.props.productPlanType,t=s._("What’s included in the free trial?");return this.props.experiments&&this.expSubgrowthBizTryIndicateSKU.variantIs("V1")&&(e===c.ProductPlanType.NEW_STANDARD?t=i.DROPBOX_BUSINESS_STANDARD:e===c.ProductPlanType.ADVANCED&&(t=i.DROPBOX_BUSINESS_ADVANCED)),r.createElement("h1",{className:"type--help-title"},t)},t.prototype.renderFeatures=function(){var e=this.props,t=e.experiments,a=e.productPlanType,l=[s._("Full access to %(trademark_business)s for %(trial_length)s days").format({trademark_business:i.TRADEMARK_BUSINESS,trial_length:this.props.trialLength}),s._("Space for your team to share and collaborate"),s._("120 days of file recovery and versioning"),s._("Admin controls for additional security")];t&&(o.Experiment(t.subgrowthBizNoCcTrials).variantIn("V1","V2","V3","V4","V5","V6","V7","V8","V9","V10","V11","V12","V13")?l=[s._("Full access to %(trademark_business)s for %(trial_length)s days").format({trademark_business:i.TRADEMARK_BUSINESS,trial_length:this.props.trialLength}),s._("Space for your team to share and collaborate"),s._("Advanced sharing and collaboration tools"),s._("Admin controls for additional security")]:this.expSubgrowthBizTryIndicateSKU.variantIs("V1")&&(a===c.ProductPlanType.NEW_STANDARD?l=[this.props.standardSpace,s._("Smart Sync to save hard drive space"),s._("Admin console and audit log"),s._("120 days of file recovery")]:a===c.ProductPlanType.ADVANCED&&(l=[s._("As much space as your team needs"),s._("Smart Sync to save hard drive space"),s._("Advanced admin controls"),s._("120 days of file recovery")])));var m=l.map(function(e,t){return r.createElement("li",{key:"try-feature-"+t},r.createElement(n,{group:"business",name:"check-blue"}),r.createElement("span",null,e))});return r.createElement("ul",{className:"feature-list type--help-copy help__feature-list"},m)},t.prototype.render=function(){return r.createElement("div",{className:"section"},this.renderHeading(),this.renderFeatures())},t})(r.Component);t.TryFeatureList=l}),define("modules/clean/react/payments/business/components/help_section/try_payment_info",["require","exports","tslib","external/react","modules/core/i18n"],function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.productPlanType,a=e.trialEndDate;return t?r.createElement("div",null,r.createElement("div",{className:"help-section"},r.createElement("h1",{className:"type--help-title"},n._("Will my credit card be charged right now?")),r.createElement("div",{className:"type--help-copy"},n._("Don’t worry, you won’t be charged now.                  You’ll only be charged if you don’t cancel                  your trial before it ends on %(trial_end_date)s.").format({trial_end_date:a}))),r.createElement("div",{className:"help-section"},r.createElement("h1",{className:"type--help-title"},n._("Can I cancel the trial at any time?")),r.createElement("div",{className:"type--help-copy"},n._("Yes! You can cancel at any time. This is a no-obligation free trial."))),r.createElement("div",{className:"help-section"},r.createElement("h1",{className:"type--help-title"},n._("Can I change my payment method later?")),r.createElement("div",{className:"type--help-copy"},n._("Yes! You can change your payment method any time.")))):null},t})(r.Component);t.TryPaymentInfo=s}),define("modules/clean/react/payments/business/components/team_header_section",["require","exports","tslib","external/classnames","external/react","modules/constants/trademark","modules/core/i18n","modules/clean/react_format"],function(e,t,a,r,n,s,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.discountHeaderThanks=function(e,t){return e&&t?o._("%(familiar_name)s, thanks for participating in %(offer_name)s.").format({familiar_name:e,offer_name:t}):e?o._("%(familiar_name)s, you have an exclusive offer.").format({familiar_name:e}):t?o._("Thanks for participating in %(offer_name)s.").format({offer_name:t}):o._("You have an exclusive offer.")},t.prototype.discountHeaderTitle=function(e){var t=this.props,a=t.isTrial,r=t.pricingData,c=t.trialLength,l=e.isExtendedTrial;return a?l?i.reactFormat(o._("You’re eligible for a free <span>%(trial_length)s-day</span> trial."),{span:n.createElement("span",{key:"extended-trial-discount",className:"discount"}),trial_length:c}):i.reactFormat(o._("Start your %(trial_length)s-day free trial now, and save <span>           %(discount_percentage)s</span><br/> off your annual subscription!"),{span:n.createElement("span",{key:"trial-discount",className:"discount"}),br:n.createElement("br",{key:"trial-discount-br"}),discount_percentage:o.format_percent(r.getPromoDiscount()),trial_length:c}):i.reactFormat(o._("Save <span>%(discount_percentage)s off</span>         your annual %(trademark_business)s subscription!"),{span:n.createElement("span",{key:"purchase-discount",className:"discount"}),discount_percentage:o.format_percent(r.getPromoDiscount()),trademark_business:s.TRADEMARK_BUSINESS})},t.prototype.discountHeader=function(e){var t,a=this.props.subTitle,s=e.expiresBy,i=e.offerName,c=this.props.userInfo.familiarName;return a&&(t=n.createElement("h3",{className:"sub-header-small type--help-copy"},a)),n.createElement("div",{className:r("top-header","grid__container","grid--x-center",this.props.className)},n.createElement("h1",{className:"header type--title-1"},this.discountHeaderThanks(c,i),n.createElement("div",null,this.discountHeaderTitle(e))),n.createElement("h3",{className:"sub-header grid__item grid--x-center type--help-title"},o._("This offer expires on %(expires_by)s.").format({expires_by:s})),t)},t.prototype.defaultHeader=function(){var e=this.props,t=e.centered,a=e.title,s=e.subTitle,o=r("header","type--title-1","grid__item",{"grid--x-center":t}),i=r("type--copy-mini","grid__item","sub-header-small",{"grid--x-center":t}),c=r("top-header",{grid__container:t},this.props.className);return n.createElement("div",{className:c},a&&n.createElement("h1",{className:o},a),n.createElement("h3",{className:i},s))},t.prototype.render=function(){return this.props.discountInfo&&!this.props.discountInfo.resellerHash?this.discountHeader(this.props.discountInfo):this.defaultHeader()},t.defaultProps={centered:!0},t})(n.Component);t.TeamHeaderSection=c}),define("modules/clean/react/payments/business/reducers/reducers",["require","exports","tslib","external/lodash","modules/clean/react/payments/business/state/state","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/common/form/reducers/reducers","modules/clean/react/payments/common/payments/reducers/reducers","modules/clean/react/payments/common/pricing/reducers/reducers"],function(e,t,a,r,n,s,o,i,c){"use strict";function l(e,t){return v.reduce(function(e,a){return a(e,t)},e)}function m(e,t){return S.reduce(function(e,a){return a(e,t)},e)}function u(e,t){if("ToggleExistingAccount"!==t.type)return e;var a=r.assignIn({},e.pageState);return void 0!==t.show?a.existingAccountShowing=t.show:a.existingAccountShowing=!a.existingAccountShowing,r.assignIn({},e,{pageState:a})}function p(e,t){if("UpdateFormStep"!==t.type)return e;var a=r.assignIn({},e.pageState,{formStep:t.step});return r.assignIn({},e,{pageState:a})}function d(e,t){if("SubmitFormError"!==t.type)return e;var a=e.formData,o=n.TryFormSteps(),i=o.accountInfoStep,c=o.planSelectionStep,l=o.paymentInfoStep,m=l;[a.firstName,a.lastName,a.email,a.password,a.teamName,a.teamPhone,a.companySize,a.captcha].some(s.FormValueHelper.hasServerError)?m=i:s.FormValueHelper.hasServerError(a.numberOfUsers)&&(m=c);var u=r.assignIn({},e.pageState,{formStep:m});return r.assignIn({},e,{pageState:u})}function h(e,t){if("UpdateHasMarkedTTI"!==t.type)return e;var r=a.__assign({},e.pageState,{hasMarkedTTI:!0});return a.__assign({},e,{pageState:r})}function _(e,t){if("UpdateFormHeight"!==t.type)return e;var r=a.__assign({},e.pageState,{formHeight:t.newHeight});return a.__assign({},e,{pageState:r})}function g(e,t){if("UpdateRevealedSteps"!==t.type)return e;var r=a.__assign({},e.pageState,{revealedStep:t.step});return a.__assign({},e,{pageState:r})}Object.defineProperty(t,"__esModule",{value:!0});var f=i.PaymentMethodReducers.map(function(e){return function(t,r){var n=e(t,r);return a.__assign({},t,{formData:a.__assign({},t.formData,n.formData),pageState:a.__assign({},t.pageState,n.pageState),pricingState:a.__assign({},t.pricingState,n.pricingState)})}}),y=i.TermsAndServiceReducers.map(function(e){return function(t,r){var n=e(t,r);return a.__assign({},t,{formData:a.__assign({},t.formData,n.formData),pageState:a.__assign({},t.pageState,n.pageState),pricingState:a.__assign({},t.pricingState,n.pricingState)})}}),v=(new Array).concat([u,p,h,_,g],o.FormManagementReducers,o.TeamPlanReducers,o.NewAccountReducers,o.TeamInfoReducers,o.TeamRestoreReducers,f,y,c.TransitionManagementReducers);t.TeamBuyReducer=l;var S=v.slice().concat([d]);t.TeamTryReducer=m,t.toggleExistingAccount=u,t.updateFormStep=p,t.updateFormStepFromServerError=d,t.updateHasMarkedTTI=h,t.updateFormHeight=_,t.updateRevealedSteps=g}),define("modules/clean/react/payments/business/state/store_creator",["require","exports","external/redux","external/redux-thunk","modules/clean/payments/skus/constants","modules/clean/react/payments/checkout/components/account_info/team_info","modules/clean/react/payments/business/state/state","modules/clean/react/payments/common/form_value_factory","modules/clean/react/payments/common/middleware/web_teams_logger","modules/clean/react/payments/common/form/middleware/middleware","modules/clean/react/payments/common/payments/state/store_creator","modules/clean/react/payments/common/pricing/state/store_creator"],function(e,t,a,r,n,s,o,i,c,l,m,u){"use strict";function p(){return function(e){return function(t){return function(a){if("SubmitFormError"!==a.type)return t(a);var r=t(a);return window.location.hash=e.getState().pageState.formStep.toString(),window.scrollTo(0,0),r}}}}function d(e,t){var n=h(e),s=a.applyMiddleware(r,c.webTeamsLogger(e.isTrial),l.submitFormErrorMiddleware(),p());return a.createStore(t,n,s)}function h(e){var t=g(e),a=_(e);return{pricingState:a,pageState:t,formData:f(e,t,a)}}function _(e){var t=u.createPricingSubState(e),a=t.discountInfo,r=t.subChangePlans,n=m.createPaymentPricingState(e);return{discountInfo:a,subChangePlans:r,countryCode:n.countryCode,countryCodeLoading:n.countryCodeLoading,hasCurrencyChanged:n.hasCurrencyChanged,hasTaxChangedWithinCountry:n.hasTaxChangedWithinCountry,loadingPrices:n.loadingPrices,recentLoadEvent:n.recentLoadEvent,requestToken:n.requestToken}}function g(e){var t=e.experiments,a=e.isPreSelect,r=e.isTrial,s=e.locale,i=e.orionPlanInfo,c=e.productPlanType,l=e.userInfo,u=e.skipAccountInfoStep,p=o.SKU_SELECTION_STEP;a&&(p=o.ACCOUNT_INFO_OR_CHECKOUT_STEP,u&&(p=o.PLAN_SELECTION_STEP));var d=c===n.ProductPlanType.ADVANCED?i.advanced.minLicenseCount:i.standard.minLicenseCount;void 0!==e.teamNumUsers&&(d=Math.max(d,e.teamNumUsers));var h=c===n.ProductPlanType.ADVANCED?i.advanced.maxLicenseCount:i.standard.maxLicenseCount,_=m.createPaymentPageState(e).paymentFormSpec;return{advancedMaxNumUsers:i.advanced.maxLicenseCount,advancedMinNumUsers:i.advanced.minLicenseCount,existingAccountShowing:l.existingAccount,experiments:t,formStep:p,hasMarkedTTI:!1,isPreSelect:a,isTrial:r,locale:s,maxNumUsers:h,minNumUsers:d,needsCaptcha:!1,paymentFormSpec:_,planId:e.planId,recaptchaPublicKey:"",standardMaxNumUsers:i.standard.maxLicenseCount,standardMinNumUsers:i.standard.minLicenseCount,
submitState:null,submitting:!1,teamNumUsers:e.teamNumUsers,userInfo:l,formHeight:0,revealedStep:0}}function f(e,t,a){var r=e.teamInfo,o=e.orionPlanInfo,c=e.userInfo,l=e.scheduleId,p=r.num_users?r.num_users.toString():"",d=r.phone||"",h=s.CompanySizes[r.company_size]?r.company_size:s.DefaultCompanySize,_=r.name||"",g=c.fname||"",f=c.lname||"",y="";c.existingAccount||(y=c.email||"");var v=c.password||"",S=n.ScheduleId.YEARLY;l&&n.ScheduleId.hasOwnProperty(l.toString())&&(S=l);var b=[],E=u.createPricingFormData(e,a).productPlanType,x=m.createPaymentFormData(e,t,a),T=x.paymentMethod,P=x.countryCode,N=x.zipCode,C=x.vat,w=x.cpf,k=x.nonce,I=x.bin,V=x.accountHolderName,F=x.iban,D=x.mandateSigned,A=x.termsAndService,B=x.idealBankId,U=x.idealBankName,L=E.formattedValue===n.ProductPlanType.ADVANCED?o.advanced.minLicenseCount:o.standard.minLicenseCount;return{schedule:i.FormValueFactory.createSchedule(S),numberOfUsers:i.FormValueFactory.createNumberOfUsers(p,t,void 0,L,b.length),teamPhone:i.FormValueFactory.createTeamPhone(d),firstName:i.FormValueFactory.createInput(g),lastName:i.FormValueFactory.createInput(f),email:i.FormValueFactory.createEmail(y),password:i.FormValueFactory.createPassword(v),teamName:i.FormValueFactory.createInput(_),companySize:i.FormValueFactory.createInput(h),captcha:i.FormValueFactory.createInput(""),emailsToInvite:i.FormValueFactory.createEmailsToInvite(b),productPlanType:E,paymentMethod:T,countryCode:P,zipCode:N,vat:C,cpf:w,cpfName:i.FormValueFactory.createCpfNamePrefill("","",c&&c.displayName),nonce:k,bin:I,accountHolderName:V,iban:F,mandateSigned:D,termsAndService:A,idealBankId:B,idealBankName:U}}Object.defineProperty(t,"__esModule",{value:!0}),t.formStepSubmitFormErrorMiddleware=p,t.createStore=d,t.createFormData=f}),define("modules/clean/react/payments/business/team_buy_page",["require","exports","tslib","external/react","external/react-redux","external/redux","external/classnames","external/lodash","modules/core/browser","modules/core/i18n","modules/core/notify","modules/core/uri","modules/clean/react/payments/checkout/components/california_legal_terms","modules/clean/analytics","modules/clean/payments/skus/pricing_data","modules/clean/payments/skus/constants","modules/clean/payments/snapengage","modules/clean/react_format","modules/clean/react/payments/business/actions/actions","modules/clean/react/payments/common/adapters/setup_cash","modules/clean/react/payments/business/reducers/reducers","modules/clean/react/payments/business/components/help_section/buy_help_section","modules/clean/react/payments/business/state/store_creator","modules/clean/react/payments/business/state/state","modules/clean/react/payments/business/actions/action_creator","modules/clean/react/payments/business/components/carry_info_form","modules/clean/react/payments/business/with_store","modules/clean/react/payments/checkout/components/confirm_button","modules/clean/react/payments/checkout/components/terms_and_service","modules/clean/react/payments/checkout/components/worldpay_text","modules/clean/react/payments/business/components/team_header_section","modules/clean/react/payments/checkout/components/form_section","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_form","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_lock","modules/clean/react/payments/checkout/components/team_plan_section","modules/clean/react/payments/checkout/components/account_info/account_info_section","modules/clean/react/payments/checkout/components/skus/sku_selection_section","modules/clean/stormcrow/experiment","modules/clean/web_timing_logger","modules/constants/trademark"],function(e,t,a,r,n,s,o,i,c,l,m,u,p,d,h,_,g,f,y,v,S,b,E,x,T,P,N,C,w,k,I,V,F,D,A,B,U,L,M,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var z=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshed=!1,t.planSectionErrorBuffer=52,t.fieldErrorBuffer=100,t.handleSubtitleClick=function(e){var a=t.props.pageState;t.carryInfoForm&&L.Experiment(a.experiments.subgrowthBizTryBuyCarryInfo).variantIs("V1")&&(e.preventDefault(),t.carryInfoForm.submitForm())},t.setCarryInfoFormRef=function(e){t.carryInfoForm=e},t.updateStepToHash=function(){var e=t.props.formData,a=c.get_hash(),r=a?parseInt(a,10):null,n=a?parseInt(a,10):x.SKU_SELECTION_STEP,s=x.BuyFormSteps().skuSelectionStep,o=U.SkuSelectionSection.validProductPlanType.bind(null,e);n>s&&!o()&&(n=s),r!==n&&c.set_hash(n.toString()),t.props.actions.updateFormStep(n,y.UpdateFormStepOrigins.HashChange)},t.prepareForSubmission=function(){return t.paymentMethodForm.prepareForSubmission()},t.getSubmitText=function(){var e=t.props,a=e.pageState,r=e.pricingState;return r.loadingPrices?l._("Updating prices..."):a.submitting?l._("Processing..."):l._("Complete purchase")},t.renderFormSections=function(e){var a=t.props,n=a.ccIframeUrl,s=a.countryList,i=a.formData,c=a.orionPlanInfo,m=a.pageState,u=a.pricingState,d=a.userInfo;if(!e)return r.createElement("div",null);var h=i.zipCode.rawValue,_=0===t.props.pricingState.subChangePlans.plans.length,g=m.paymentFormSpec.should_show_vat_for_country(i.countryCode.formattedValue),f=o({"team-plan-section--is-revealed":t.expSubgrowthBizBuyRevealSteps.variantIs("V1")&&m.revealedStep>0},"grid__container","grid__container--p-small","team-plan-section"),y=o({"account-info-section--is-revealed":t.expSubgrowthBizBuyRevealSteps.variantIs("V1")&&m.revealedStep>1},"grid__container","grid__container--p-small","account-info-section"),v=o({"payment-info-section--is-revealed":t.expSubgrowthBizBuyRevealSteps.variantIs("V1")&&3===m.revealedStep},"payment-info-section");return t.expSubgrowthBizBuyRevealSteps.variantIs("V1")?0===m.revealedStep?r.createElement("div",{className:"grid__item grid__item--medium--7-12"},r.createElement("div",{className:"grid__item form__section form__section--revealing"},r.createElement("div",{className:"business-form grid__item"},r.createElement("div",{className:f,ref:function(e){t.planSection=e}},r.createElement(V.FormSection,{title:l._("1. Choose your plan")},r.createElement(A.TeamPlanSection,{actions:t.props.actions,advancedDisplayName:c.advanced.skuContent.name,experiments:m.experiments,formData:i,isTrial:!1,isVatCountry:g,pricingData:e,skipPricing:_,standardDisplayName:c.standard.skuContent.name})))))):r.createElement("div",{className:"grid__item grid__item--medium--7-12"},r.createElement("div",{className:"grid__item form__section form__section--revealing",style:{maxHeight:t.props.pageState.formHeight+"px"}},r.createElement("div",{className:"business-form grid__item"},r.createElement("div",{className:f,ref:function(e){t.planSection=e}},r.createElement(V.FormSection,{title:l._("1. Choose your plan")},r.createElement(A.TeamPlanSection,{actions:t.props.actions,advancedDisplayName:c.advanced.skuContent.name,experiments:m.experiments,formData:i,isTrial:!1,isVatCountry:g,pricingData:e,skipPricing:_,standardDisplayName:c.standard.skuContent.name}))),r.createElement("div",{className:y,ref:function(e){t.infoSection=e}},r.createElement(B.AccountInfoSection,{actions:t.props.actions,currentUrl:t.getCurrentUrl(),discountInfo:u.discountInfo,existingAccountShowing:m.existingAccountShowing,experiments:m.experiments,formData:i,isTrial:!1,locale:m.locale,needsCaptcha:m.needsCaptcha,recaptchaPublicKey:m.recaptchaPublicKey,sectionIndex:2,userInfo:d,passwordStrengthPostTTI:!0,onFirstFieldChange:t.resizeForm.bind(t,3)})),r.createElement("div",{className:v,ref:function(e){t.paymentSection=e}},r.createElement("div",{className:"grid__container grid__container--p-small"},r.createElement(V.FormSection,{title:t.renderPaymentMethodTitle(),className:"payment-method-section"},r.createElement(F.PaymentMethodForm,{actions:t.props.actions,countryList:s,formData:i,iframeUrl:n,isTeam:!0,paymentIsDown:m.experiments.subgrowthBizPaymentDownRedirect,paymentSpec:m.paymentFormSpec,ref:function(e){return t.paymentMethodForm=e},showCpf:m.experiments.showCpf,splitExp:L.Experiment(m.experiments.subgrowthBizBuyExpDropdown).variantIs("V1")}))),r.createElement(w.TermsAndService,{actions:t.props.actions,experiments:m.experiments,formData:i,isTrial:!1}),t.renderConfirmButton())),r.createElement(k.WorldpayText,{countryCode:i.countryCode.formattedValue}))):r.createElement("div",{className:"grid__item grid__item--medium--7-12"},r.createElement("div",{className:"grid__item form__section"},r.createElement("div",{className:"business-form grid__item"},r.createElement("div",{className:f},r.createElement(V.FormSection,{title:l._("1. Choose your plan")},r.createElement(A.TeamPlanSection,{actions:t.props.actions,advancedDisplayName:c.advanced.skuContent.name,experiments:m.experiments,formData:i,isTrial:!1,isVatCountry:g,pricingData:e,skipPricing:_,standardDisplayName:c.standard.skuContent.name}))),r.createElement("div",{className:"grid__container grid__container--p-small account-info-section"},r.createElement(B.AccountInfoSection,{actions:t.props.actions,currentUrl:t.getCurrentUrl(),discountInfo:u.discountInfo,existingAccountShowing:m.existingAccountShowing,experiments:m.experiments,formData:i,isTrial:!1,locale:m.locale,needsCaptcha:m.needsCaptcha,recaptchaPublicKey:m.recaptchaPublicKey,sectionIndex:2,userInfo:d,passwordStrengthPostTTI:!0})),r.createElement("div",{className:"grid__container grid__container--p-small payment-info-section payment-info-section--CA-terms-included"},r.createElement(V.FormSection,{title:t.renderPaymentMethodTitle(),className:"payment-method-section"},r.createElement(F.PaymentMethodForm,{actions:t.props.actions,countryList:s,formData:i,iframeUrl:n,isTeam:!0,paymentIsDown:m.experiments.subgrowthBizPaymentDownRedirect,paymentSpec:m.paymentFormSpec,ref:function(e){return t.paymentMethodForm=e},showCpf:m.experiments.showCpf,splitExp:L.Experiment(m.experiments.subgrowthBizBuyExpDropdown).variantIs("V1")}))),r.createElement(p.CaliforniaLegalTerms,{zipCode:h}),r.createElement(w.TermsAndService,{actions:t.props.actions,experiments:m.experiments,formData:i,isTrial:!1}),t.renderConfirmButton())),r.createElement(k.WorldpayText,{countryCode:i.countryCode.formattedValue}))},t.resizeForm=function(e){var a,r=t.props.pageState,n=r.formHeight,s=r.revealedStep,o=t.props.actions,i=o.updateFormHeight,c=o.updateRevealedSteps,l=e?e:s;switch(l){case 1:a=t.planSection.getBoundingClientRect().height;break;case 2:a=t.planSection.getBoundingClientRect().height+t.planSectionErrorBuffer+t.infoSection.getBoundingClientRect().height;break;case 3:a=t.planSection.getBoundingClientRect().height+t.planSectionErrorBuffer+t.infoSection.getBoundingClientRect().height+t.paymentSection.getBoundingClientRect().height+t.fieldErrorBuffer;break;default:a=n}c(l),i(a)},t}return a.__extends(t,e),Object.defineProperty(t.prototype,"expSubgrowthBizBuyRevealSteps",{get:function(){return L.Experiment(this.props.pageState.experiments.subgrowthBizBuyRevealSteps)},enumerable:!0,configurable:!0}),t.prototype.renderPaymentMethodTitle=function(){return r.createElement("span",{className:"payment-method-title grid__item grid--y-bottom"},l._("3. Enter payment details"),r.createElement(D.PaymentMethodLock,null))},t.prototype.submitForm=function(){this.props.actions.submitTeamForm("/business/ajax_create_team_buy",this.prepareForSubmission)},t.prototype.getPersistentUrlParameters=function(){var e=this.props.formData.productPlanType.rawValue,t=u.URI.parse(c.get_href_no_hash()).getQuery(),a=Object.keys(t),r=["dcode","code","sku"],n={};r.forEach(function(e){a.indexOf(e)!==-1&&(n[e]=t[e])});var s;return e===_.ProductPlanType.NEW_STANDARD?s="std":e===_.ProductPlanType.ADVANCED&&(s="adv"),s&&(n.sku=s),n},t.prototype.getCurrentUrl=function(){return u.URI.parse("/business/buy").setQuery(this.getPersistentUrlParameters()).toString()},t.prototype.getTryLinkUrl=function(){return u.URI.parse("/business/try").setQuery(this.getPersistentUrlParameters()).toString()},t.prototype.componentDidMount=function(){var e=this,t=this.props,a=t.formData,r=t.pageState,n=x.BuyFormSteps().checkoutStep;M.mark_time_to_interactive(),d.TeamsWebActionsLogger.log("react_checkout_buy_render_success",{flow:r.isPreSelect?"PreSelect":"PlanSelect"});var s=U.SkuSelectionSection.validProductPlanType.bind(null,a);this.props.productPlanType&&r.formStep===n&&s()&&this.props.actions.updateFormStep(n,y.UpdateFormStepOrigins.PreSelectedSku),window.addEventListener("hashchange",this.updateStepToHash),this.updateStepToHash(),M.waitForTTI().then(function(){var t=e.props,a=t.isTrial,r=t.planId,n=t.discountInfo,s=t.userInfo,o=t.teamInfo;e.props.actions.fetchSubChangePlans(a,r,n,s,o),e.props.snapengagePostTti&&g.ajaxFetchAndLoadSnapengageParams({possiblyUseIntercom:!0})}),this.expSubgrowthBizBuyRevealSteps.variantIs("V1")&&(this.props.actions.updateRevealedSteps(1),this.resizeForm(1),this.windowResizeListener=i.debounce(this.resizeForm.bind(this,this.props.pageState.revealedStep),200),this.step2Timeout=setTimeout(function(){e.resizeForm(2)},1500),window.addEventListener("resize",this.windowResizeListener))},t.prototype.componentWillUnmount=function(){window.removeEventListener("hashchange",this.updateStepToHash),window.removeEventListener("resize",this.windowResizeListener),clearTimeout(this.step2Timeout)},t.prototype.renderConfirmButton=function(){var e=this.props,t=e.pageState,a=e.pricingState,n=t.submitting||a.loadingPrices?"ajax-loading":"";return r.createElement(C.ConfirmButton,{className:n,text:this.getSubmitText(),disabled:a.loadingPrices||t.submitting,onClick:this.submitForm.bind(this)})},t.prototype.render=function(){var e=this.props,t=e.experiments,a=e.isBusinessDomain,n=e.formData,s=e.orionPlanInfo,i=e.pageState,u=e.pricingData,p=e.pricingState,d=e.taxNamesByCountry,_=e.trialLength,g=e.userInfo;if(this.refreshed)return r.createElement("div",null);if(u instanceof h.PricingDataException)return this.refreshed=!0,c.redirect("/team/admin"),r.createElement("div",null);if(!u)return m.Notify.error(h.PricingDataException.notifyErrorMessage,20),r.createElement("div",null);var y=o({grid__container:!0,hidden:i.formStep===x.SKU_SELECTION_STEP}),v=l._("Purchase %(trademark_business)s").format({trademark_business:R.TRADEMARK_BUSINESS}),S=void 0;this.props.eligibleForTrial&&(S=r.createElement("span",null,f.reactFormat(l._("or <a>try free for %(trial_length)s days</a>."),{a:r.createElement("a",{key:"subtitle-purchase-cta","data-trackingid":"59bd8cb1-5955-4eaa-9bf1-346d65bf5dd2",className:"type--semib",href:this.getTryLinkUrl(),onClick:this.handleSubtitleClick}),trial_length:_})));var E;p.subChangePlans&&(E=r.createElement(U.SkuSelectionSection,{actions:this.props.actions,experiments:t,formData:n,formStep:i.formStep,isBusinessDomain:a,isTrial:!1,locale:this.props.locale,subChangePlans:p.subChangePlans,visible:i.formStep===x.SKU_SELECTION_STEP,standardPlanInfo:s.standard,advancedPlanInfo:s.advanced}));var T;return L.Experiment(i.experiments.subgrowthBizTryBuyCarryInfo).variantIs("V1")&&(T=r.createElement(P.CarryInfoForm,{existingAccountShowing:i.existingAccountShowing,experiments:t,formData:n,href:this.getTryLinkUrl(),isTrial:!1,paymentFormSpec:i.paymentFormSpec,ref:this.setCarryInfoFormRef})),r.createElement("div",{className:"business-form-wrapper grid__section"},T,r.createElement(I.TeamHeaderSection,{discountInfo:p.discountInfo,isTrial:!1,pricingData:u,subTitle:S,title:v,userInfo:g}),r.createElement("div",null,E,r.createElement("div",{className:y},r.createElement("div",{className:"grid__container grid--x-bookend grid__container--p-medium"},this.renderFormSections(u),r.createElement("div",{className:"grid__item grid__item--medium--1-3"},r.createElement(b.BuyHelpSection,{countryCode:n.countryCode.formattedValue,discountInfo:p.discountInfo,experiments:t,numberOfUsers:n.numberOfUsers,paymentSpec:i.paymentFormSpec,pricingData:u,productPlanType:n.productPlanType.formattedValue,schedule:n.schedule.formattedValue,subChangePlans:p.subChangePlans,taxNamesByCountry:d}))))))},t})(r.Component);t.TeamBuyPageView=z,t.TeamBuyPage=s.compose(N.withStore(function(e){return v.setupCash(e.localeNumberFormat,e.currencyToFormatMap),E.createStore(e,S.TeamBuyReducer)}),n.connect(function(e,t){return{formData:e.formData,pageState:e.pageState,pricingState:e.pricingState,pricingData:h.PricingDataFactory.createFromState(e,t)}},function(e){return{actions:T.bindTeamBuyActions(e)}}))(z)}),define("modules/clean/react/payments/business/team_try_page",["require","exports","tslib","external/react","external/react-redux","external/redux","external/classnames","modules/constants/trademark","modules/core/browser","modules/core/exception","modules/core/notify","modules/core/uri","modules/core/i18n","modules/clean/payments/snapengage","modules/clean/react/payments/checkout/components/multistep/account_info_panel","modules/clean/react/payments/checkout/components/account_info/account_toggle","modules/clean/react/payments/checkout/components/confirm_button","modules/clean/react/profile_services/google_register_button","modules/clean/react/payments/checkout/components/worldpay_text","modules/clean/stormcrow/experiment","modules/clean/react/payments/checkout/components/multistep/multistep_indicator","modules/clean/react/payments/checkout/components/multistep/payment_method_panel","modules/clean/payments/skus/pricing_data","modules/clean/payments/skus/constants","modules/clean/react/payments/checkout/components/skus/sku_selection_section","modules/clean/react/payments/business/state/state","modules/clean/react/payments/business/components/carry_info_form","modules/clean/react/payments/business/components/team_header_section","modules/clean/react/payments/business/with_store","modules/clean/react/payments/checkout/components/multistep/team_plan_panel","modules/clean/react/payments/business/reducers/reducers","modules/clean/analytics","modules/clean/react/payments/business/components/help_section/try_help_section","modules/clean/react/payments/business/actions/actions","modules/clean/react/payments/business/actions/action_creator","modules/clean/react/payments/business/state/store_creator","modules/clean/react_format","modules/clean/react/payments/common/adapters/setup_cash","modules/clean/web_timing_logger"],function(e,t,a,r,n,s,o,i,c,l,m,u,p,d,h,_,g,f,y,v,S,b,E,x,T,P,N,C,w,k,I,V,F,D,A,B,U,L,M){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var R=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshed=!1,t.formContinueClicked=function(){t.props.pageState.formStep===P.TryFormSteps().paymentInfoStep?t.submitForm():t.props.actions.updateFormStep(t.props.pageState.formStep+1,D.UpdateFormStepOrigins.ContinueButton)},t.handleSubtitleClick=function(e){var a=t.props.pageState;t.carryInfoForm&&v.Experiment(a.experiments.subgrowthBizTryBuyCarryInfo).variantIs("V1")&&(e.preventDefault(),t.carryInfoForm.submitForm())},t.updateStepToHash=function(){var e=t.props,a=e.formData,r=e.pageState,n=r.existingAccountShowing,s=r.paymentFormSpec,o=c.get_hash(),i=o?parseInt(o,10):null,l=o?parseInt(o,10):P.SKU_SELECTION_STEP,m=P.TryFormSteps(),u=m.skuSelectionStep,p=m.accountInfoStep,d=m.planSelectionStep,_=m.paymentInfoStep,g=[[p,h.AccountInfoPanel.validFormData.bind(null,a,n,t.props.experiments,r.isTrial)],[d,k.TeamPlanPanel.validFormData.bind(null,a,t.props.experiments,r.isTrial)],[_,b.PaymentMethodPanel.validFormData.bind(null,a,s,r.isTrial)]],f=T.SkuSelectionSection.validProductPlanType.bind(null,a);g.push([u,f]),g.sort(function(e,t){return e[0]-t[0]}).every(function(e){var t=e[0],a=e[1];return!(l>t&&!a())||(l=t,!1)}),t.props.actions.updateFormStep(l,D.UpdateFormStepOrigins.HashChange),i!==l&&c.set_hash(l.toString())},t.getSubmitCopy=function(){var e=v.Experiment(t.props.experiments.userJourneyBizTryGoogleSignUp).isActive;return r.createElement("span",null,p._("Continue"),e?null:r.createElement("div",{className:"continue-arrow"}))},t.getSubmitText=function(){var e=t.props,a=e.pageState,r=e.pricingState,n=P.TryFormSteps().paymentInfoStep,s=t.getSubmitCopy();return a.formStep===n&&(s=p._("Start free trial")),a.submitting?s=p._("Processing..."):(r.loadingPrices||0===t.props.pricingState.subChangePlans.plans.length)&&(s=p._("Loading...")),s},t.renderConfirmButton=function(){var e=t.props,a=e.pageState,n=e.pricingState,s=P.TryFormSteps().paymentInfoStep,i="ON"===t.props.experiments.ujOneLicense&&"ON"===t.props.experiments.ujProfessionalTrial,c=o({"ajax-loading":a.submitting||n.loadingPrices}),l=n.loadingPrices||i&&t.props.formData.numberOfUsers.isUnderLimit||a.submitting||0===n.subChangePlans.plans.length,m="button";return a.formStep===s&&(m="submit"),r.createElement(g.ConfirmButton,{className:c,disabled:l,onClick:t.formContinueClicked,text:t.getSubmitText(),type:m})},t.renderProgressIndicator=function(){var e,a=t.props.pageState,n=2===a.formStep&&t.subgrowthBizTryTaxNotif.variantIs("V1");n&&(e=r.createElement("div",{className:"tax-disclaimer"},p._("Total prices quoted include applicable taxes.")));var s=o("multistep-indicator-wrapper",{"multistep-indicator-wrapper--with-tax-disclaimer":n});return r.createElement("div",{className:s},e,r.createElement(S.MultistepIndicator,{index:a.formStep}))},t.toggleExistingAccount=function(){t.props.actions.toggleExistingAccount(!1)},t.renderGoogleSignUpSection=function(){var e=t.props.pageState,a=P.TryFormSteps().accountInfoStep,n=e.userInfo.existingAccount;if(e.formStep===a&&!n&&!e.existingAccountShowing){var s=u.URI.parse("/business/try").setQuery(t.getPersistentUrlParameters()).updateQuery({skip:""}).toString();return r.createElement("div",{className:"google-auth"},r.createElement(f.GoogleSignupButton,{className:"google-auth__button",registerCont:s,loginCont:t.getCurrentUrl(),cta:p._("Sign up with Google"),importance:"styleless",isPopup:!0,onClick:t.props.actions.clickGoogleSignup,referrer:"business_try",signupTag:"business_try"}),r.createElement("div",{className:"existing-account"},r.createElement(_.AccountToggle,{isNoCcTrial:!1,onClick:t.toggleExistingAccount})))}},t.setPaymentMethodPanelRef=function(e){t.paymentMethodPanel=e},t.setCarryInfoFormRef=function(e){t.carryInfoForm=e},t.renderTrySteps=function(e){var a,n=t.props,s=n.countryList,i=n.experiments,c=n.formData,l=n.orionPlanInfo,m=n.trialEndDate,u=n.pageState,p=n.pricingState,d=n.skuContent,_=P.TryFormSteps(),g=_.accountInfoStep,f=_.planSelectionStep,S=_.paymentInfoStep,E=o("grid__item","grid__item--medium--7-12","grid__item--medium--order-1"),x=o("form__section","grid__item");if(u.formStep===f){var T=u.paymentFormSpec.should_show_vat_for_country(c.countryCode.formattedValue);a=r.createElement(k.TeamPlanPanel,{actions:t.props.actions,advancedDisplayName:l.advanced.skuContent.name,experiments:i,formData:c,isVatCountry:T,pricingData:e,skuContent:d,standardDisplayName:l.standard.skuContent.name,skipPricing:0===t.props.pricingState.subChangePlans.plans.length})}var N;u.hasMarkedTTI&&(N=r.createElement(b.PaymentMethodPanel,{actions:t.props.actions,countryList:s,experiments:i,formData:c,hasCurrencyChanged:p.hasCurrencyChanged,hasTaxChangedWithinCountry:p.hasTaxChangedWithinCountry,iframeUrl:t.props.ccIframeUrl,paymentSpec:u.paymentFormSpec,pricingData:e,ref:t.setPaymentMethodPanelRef,trialEndDate:m,visible:u.formStep===S,paymentIsDown:u.experiments.subgrowthBizPaymentDownRedirect}));var C;u.formStep===S&&(C=r.createElement(y.WorldpayText,{countryCode:c.countryCode.formattedValue}));var w=v.Experiment(t.props.experiments.userJourneyBizTryGoogleSignUp).isActive;return r.createElement("div",{className:E},r.createElement("div",{className:x},r.createElement("div",{className:"business-form grid__item"},r.createElement(h.AccountInfoPanel,{actions:t.props.actions,currentUrl:t.getCurrentUrl(),discountInfo:p.discountInfo,existingAccountShowing:u.existingAccountShowing,experiments:u.experiments,formData:c,isTrial:!0,locale:u.locale,needsCaptcha:u.needsCaptcha,recaptchaPublicKey:u.recaptchaPublicKey,userInfo:u.userInfo,visible:u.formStep===g,passwordStrengthPostTTI:!0}),a,N,t.renderConfirmButton(),w?t.renderGoogleSignUpSection():null,t.renderProgressIndicator())),C)},t.renderTryStepPanels=function(e){var a,n=t.props,s=n.customerToCountryMap,c=n.isBusinessDomain,l=n.formData,m=n.orionPlanInfo,u=n.pageState,d=n.pricingState,h=n.trialEndDate,_=n.trialLength,g=P.TryFormSteps().skuSelectionStep,f=o({hidden:u.formStep===g},"business-try-form"),y=p._("Start your %(trial_length)s-day free trial now!").format({trial_length:_}),S=r.createElement("span",null,U.reactFormat(p._("or <a>purchase %(trademark_business)s now</a>."),{a:r.createElement("a",{key:"subtitle-purchase-cta","data-trackingid":"ec9dcd13-a1e4-45b9-9253-75d4bdc40672",className:"type--semib",href:t.getBuyLinkUrl(),onClick:t.handleSubtitleClick}),trademark_business:i.TRADEMARK_BUSINESS}));d.subChangePlans&&(a=r.createElement(T.SkuSelectionSection,{actions:t.props.actions,experiments:u.experiments,formData:l,formStep:u.formStep,isBusinessDomain:c,isTrial:!0,locale:t.props.locale,subChangePlans:d.subChangePlans,trialLength:_,visible:u.formStep===g,standardPlanInfo:m.standard,advancedPlanInfo:m.advanced}));var b;return v.Experiment(u.experiments.subgrowthBizTryBuyCarryInfo).variantIs("V1")&&(b=r.createElement(N.CarryInfoForm,{existingAccountShowing:u.existingAccountShowing,experiments:u.experiments,formData:l,href:t.getBuyLinkUrl(),isTrial:!0,paymentFormSpec:u.paymentFormSpec,ref:t.setCarryInfoFormRef})),[b,r.createElement(C.TeamHeaderSection,{key:"team-header-section",discountInfo:d.discountInfo,isTrial:!0,pricingData:e,subTitle:S,title:y,trialLength:_,userInfo:u.userInfo}),r.createElement("div",{key:"try-content-box"},a,r.createElement("div",{className:f},r.createElement("div",{className:o("grid__container","grid--x-bookend","grid__container--p-medium")},t.renderTrySteps(e),r.createElement(F.TryHelpSection,{countryCode:l.countryCode.formattedValue,customerToCountryMap:s,discountInfo:d.discountInfo,experiments:u.experiments,formStep:u.formStep,locale:u.locale,numberOfUsers:l.numberOfUsers,pricingData:e,productPlanType:l.productPlanType.formattedValue,schedule:l.schedule.formattedValue,subChangePlans:d.subChangePlans,taxNamesByCountry:t.props.taxNamesByCountry,trialEndDate:h,trialLength:_}))))]},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,a=t.formData,r=t.pageState,n=P.TryFormSteps(),s=n.accountInfoStep,o=n.planSelectionStep;M.mark_time_to_interactive(),V.TeamsWebActionsLogger.log("react_checkout_try_render_success",{flow:r.isPreSelect?"PreSelect":"PlanSelect"});var i=T.SkuSelectionSection.validProductPlanType.bind(null,a);this.props.productPlanType&&i()&&(r.formStep===s||r.formStep===o)&&this.props.actions.updateFormStep(r.formStep,D.UpdateFormStepOrigins.PreSelectedSku),window.addEventListener("hashchange",this.updateStepToHash),this.updateStepToHash(),M.waitForTTI().then(function(){var t=e.props,a=t.isTrial,r=t.planId,n=t.discountInfo,s=t.userInfo,o=t.teamInfo;e.props.actions.fetchSubChangePlans(a,r,n,s,o),e.props.actions.updateHasMarkedTTI(),e.props.snapengagePostTti&&d.ajaxFetchAndLoadSnapengageParams({possiblyUseIntercom:!0})})},t.prototype.componentWillUnmount=function(){window.removeEventListener("hashchange",this.updateStepToHash)},t.prototype.prepareForSubmission=function(){return this.paymentMethodPanel?this.paymentMethodPanel.prepareForSubmission():(l.reportStack("Attempted to prepare submission before payment method panel is loaded.",{severity:l.SEVERITY.CRITICAL,tags:["business_try"]}),Promise.resolve(!1))},t.prototype.submitForm=function(){this.props.actions.submitTeamForm("/business/ajax_create_team_try",this.prepareForSubmission.bind(this),{is_trial:!0,trial_schedule_id:this.props.trialScheduleId})},Object.defineProperty(t.prototype,"subgrowthBizTryTaxNotif",{get:function(){return v.Experiment(this.props.experiments.subgrowthBizTryTaxNotif)},enumerable:!0,configurable:!0}),t.prototype.getBuyLinkUrl=function(){return u.URI.parse("/business/buy").setQuery(this.getPersistentUrlParameters()).toString()},t.prototype.getCurrentUrl=function(){return u.URI.parse("/business/try").setQuery(this.getPersistentUrlParameters()).toString()},t.prototype.getPersistentUrlParameters=function(){var e=this.props.formData.productPlanType.rawValue,t=u.URI.parse(c.get_href_no_hash()).getQuery(),a=Object.keys(t),r=["dcode","code","sku"],n={};if(r.forEach(function(e){a.indexOf(e)!==-1&&(n[e]=t[e])}),e){var s=void 0;e===x.ProductPlanType.NEW_STANDARD?s="std":e===x.ProductPlanType.ADVANCED&&(s="adv"),s&&(n.sku=s)}return n},t.prototype.render=function(){return this.refreshed?r.createElement("div",null):this.props.pricingData instanceof E.PricingDataException?(this.refreshed=!0,c.redirect("/team/admin"),r.createElement("div",null)):this.props.pricingData?r.createElement("div",{className:"business-form-wrapper grid__section"},this.renderTryStepPanels(this.props.pricingData)):(m.Notify.error(E.PricingDataException.notifyErrorMessage,20),r.createElement("div",null))},t})(r.Component);t.TeamTryPageView=R,t.TeamTryPage=s.compose(w.withStore(function(e){return L.setupCash(e.localeNumberFormat,e.currencyToFormatMap),B.createStore(e,I.TeamTryReducer)}),n.connect(function(e,t){return{formData:e.formData,pageState:e.pageState,pricingState:e.pricingState,pricingData:E.PricingDataFactory.createFromState(e,t)}},function(e){return{actions:A.bindTeamBuyActions(e)}}))(R)}),define("modules/clean/react/payments/checkout/components/account_info/account_info_section",["require","exports","tslib","external/react","modules/core/i18n","modules/clean/react/payments/checkout/components/form_section","modules/clean/react/payments/checkout/components/account_info/new_account_info","modules/clean/react/payments/checkout/components/account_info/existing_account_info","modules/clean/react/payments/checkout/components/account_info/team_info","modules/clean/react/payments/checkout/components/modals/login_modal","modules/clean/stormcrow/experiment","modules/clean/react/payments/checkout/components/account_info/account_toggle"],function(e,t,a,r,n,s,o,i,c,l,m,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showLoginDialog=function(){l.LoginModal.getInstance().updateRedirectUrl(t.props.formData.productPlanType.rawValue).show()},t.getTitle=function(){var e,a=t.props,r=a.existingAccountShowing,s=a.experiments,o=a.sectionIndex,i=m.Experiment(s.userJourneyBizTryGoogleSignUp).isActive;return e=r?n._("%(index)s. Set initial administrator account").format({index:o}):t.props.isTrial?i?n._("%(index)s. Sign Up").format({index:o}):n._("%(index)s. About you").format({index:o}):n._("%(index)s. Tell us about yourself").format({index:o}),m.Experiment(s.subgrowthBizNoCcTrials).isActive&&(e=m.Experiment(s.subgrowthBizNoCcTrials).variantIn("V6","V7","V8","V9","V10","V11","V12","V13")&&!r?n._("About you"):""),e},t}return a.__extends(t,e),t.prototype.render=function(){var e,t=null,a=this.props,n=a.existingAccountShowing,l=a.actions,p=a.discountInfo,d=p&&!!p.resellerHash,h=m.Experiment(this.props.experiments.subgrowthBizNoCcTrials);if(n)e=r.createElement(i.ExistingAccountInfo,{experiments:this.props.experiments,locale:this.props.locale,showLoginDialog:this.showLoginDialog,toggleExistingAccount:l.toggleExistingAccount,userInfo:this.props.userInfo});else{m.Experiment(this.props.experiments.userJourneyBizTryGoogleSignUp).isActive||(t=r.createElement(u.AccountToggle,{experiments:this.props.experiments,isNoCcTrial:h.isActive,onClick:this.props.actions.toggleExistingAccount})),e=r.createElement(o.NewAccountInfo,{actions:this.props.actions,experiments:this.props.experiments,formData:this.props.formData,isTrial:this.props.isTrial,isValidMSP:Boolean(d),needsCaptcha:this.props.needsCaptcha,recaptchaPublicKey:this.props.recaptchaPublicKey,passwordStrengthPostTTI:this.props.passwordStrengthPostTTI,onFirstFieldChange:this.props.onFirstFieldChange})}if(h.variantIn("V6","V7","V8","V9","V10","V11","V12","V13")){
var _=[e,r.createElement(c.TeamInfo,{actions:this.props.actions,formData:this.props.formData,experiments:this.props.experiments,isTrial:this.props.isTrial,isValidMSP:Boolean(d)})];return n||(_=h.variantIn("V6","V7","V8","V9","V10","V11","V12","V13")?r.createElement(s.FormSection,{title:this.getTitle(),sideHeader:t},_):r.createElement(s.FormSection,{title:this.getTitle()},_)),r.createElement("div",{className:"grid__item"},_)}return h.isActive?r.createElement("div",{className:"grid__item"},t,e,r.createElement(c.TeamInfo,{actions:this.props.actions,formData:this.props.formData,experiments:this.props.experiments,isTrial:this.props.isTrial,isValidMSP:Boolean(d)})):r.createElement(s.FormSection,{title:this.getTitle(),sideHeader:t},e,r.createElement(c.TeamInfo,{actions:this.props.actions,experiments:this.props.experiments,formData:this.props.formData,isTrial:this.props.isTrial,isValidMSP:Boolean(d),onFirstFieldChange:this.props.onFirstFieldChange}))},t})(r.Component);t.AccountInfoSection=p}),define("modules/clean/react/payments/checkout/components/account_info/existing_account_info",["require","exports","tslib","external/react","modules/clean/react_format","modules/clean/stormcrow/experiment","modules/constants/trademark","modules/core/i18n"],function(e,t,a,r,n,s,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.getEnglishLayout=function(){var e,t=this.props,a=t.experiments,o=t.userInfo,c=t.showLoginDialog,l=t.toggleExistingAccount;return e=s.Experiment(a.subgrowthBizNoCcTrials).variantIn("V6","V7","V8","V9","V10","V11","V12","V13")?r.createElement("p",{className:"existing-account__headline"},n.reactFormat(i._("You are now logged into <em>%(email)s</em>."),{email:o.email,em:r.createElement("span",{className:"existing-account__bold"})})):r.createElement("p",null,i._("You’re currently logged into %(email)s.").format({email:o.email})),r.createElement("div",{className:"existing-account"},e,r.createElement("p",null,i._("If you'd like to use a different e-mail for the admin account, feel free to")," ",r.createElement("a",{className:"account-toggle-new",onClick:function(){return l()}},i._("create a new account"))," ",i._("or")," ",r.createElement("a",{className:"account-toggle-existing",onClick:function(){return c()}},i._("use another account")),"."),r.createElement("p",null,i._("You can change admin accounts after starting the trial, and your current files             and folders will retain their privacy settings when upgrading.")),this.getSmartSyncWarning())},t.prototype.getNonEnglishLayout=function(){var e=this.props,t=e.userInfo,a=e.showLoginDialog,n=e.toggleExistingAccount;return r.createElement("div",{className:"existing-account"},r.createElement("p",null,i._("You're currently logged in as %(name)s (%(email)s), and this account will be                the administrator for your new %(trademark_business)s account.").format({name:t.displayName,email:t.email,trademark_business:o.TRADEMARK_BUSINESS})),r.createElement("p",null,i._("After purchase, all your files and folders will remain private unless you             choose to share them with your team.")),r.createElement("p",null,i._("If you'd like to use a different account to manage your team, you can")," ",r.createElement("a",{onClick:function(){return n()}},i._("create a new account"))," ",i._("or")," ",r.createElement("a",{onClick:function(){return a()}},i._("use another account")),"."),this.getSmartSyncWarning())},t.prototype.getSmartSyncWarning=function(){return this.props.userInfo.userHasInfinite?r.createElement("p",null,i._("Once you sign up, you won’t be able to make new files online-only until               you enable Smart Sync for your team.")):""},t.prototype.render=function(){var e=this.props,t=e.userInfo,a=e.locale;return t.existingAccount?/^en/.test(a.toLowerCase())?this.getEnglishLayout():this.getNonEnglishLayout():r.createElement("div",null)},t})(r.Component);t.ExistingAccountInfo=c}),define("modules/clean/react/payments/checkout/components/account_info/new_account_info",["require","exports","tslib","external/classnames","external/react","modules/core/browser","modules/core/i18n","modules/clean/components/password_strength_meter","modules/clean/react/payments/checkout/components/inputs/labeled_text_input","modules/clean/react/payments/common/form_values","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/recaptcha_challenge","modules/clean/react_format","modules/clean/stormcrow/experiment","modules/clean/web_timing_logger"],function(e,t,a,r,n,s,o,i,c,l,m,u,p,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onFirstNameChanged=function(e){t.props.onFirstFieldChange&&t.props.onFirstFieldChange(),t.props.actions.updateFirstName(e.value)},t.onLastNameChanged=function(e){t.props.onFirstFieldChange&&t.props.onFirstFieldChange(),t.props.actions.updateLastName(e.value)},t.onFullNameBlur=function(e){t.props.actions.blurFullName(e.value)},t.onFullNameChanged=function(e){t.props.actions.updateFullName(e.value)},t.onEmailBlur=function(e){t.props.actions.blurEmail(e.value),""!==e.value&&t.props.actions.showFormFieldErrors(["email"],"EmailBlur")},t.getPlaceholder=function(e){var a="";if(t.ncctExp.variantIn("V6","V7","V8","V9","V10","V11","V12","V13"))switch(e){case"first":a=o._("First name",{comment:"Try and Buy placeholder text"});break;case"full":a=o._("Your name",{comment:"Try and Buy placeholder text"});break;case"email":a=o._("Email",{comment:"Try and Buy placeholder text"});break;case"last":a=o._("Last name",{comment:"Try and Buy placeholder text"});break;case"password":a=o._("Password",{comment:"Try and Buy placeholder text"})}return a},t.renderFullNameInput=function(){var e=t.props.formData,a=r({"hidden-label":t.ncctExp.variantIn("V6","V7","V8","V9","V10","V11","V12","V13")});return n.createElement("div",{className:"name-fields grid__item grid--x-bookend"},n.createElement(c.LabeledTextInput,{className:"grid__item",errorText:t.fullNameErrorMessage(),labelClass:a,labelText:o._("Full name"),name:"fullname",onBlur:t.onFullNameBlur,onChange:t.onFullNameChanged,placeholder:t.getPlaceholder("full"),value:e.firstName.rawValue}))},t.renderNameInputs=function(){var e=t.props.formData,a=r({"hidden-label":t.ncctExp.variantIn("V6","V7","V8","V9","V10","V11","V12","V13")}),s=n.createElement("div",{className:"name-fields grid__item grid--x-bookend"},n.createElement(c.LabeledTextInput,{className:"grid__item grid__item--medium--11-24",errorHTML:e.firstName.serverError,errorText:t.firstNameErrorMessage(),labelClass:a,labelText:o._("First name"),name:"fname",onChange:t.onFirstNameChanged,placeholder:t.getPlaceholder("first"),value:e.firstName.rawValue}),n.createElement(c.LabeledTextInput,{className:"grid__item grid__item--medium--11-24",errorHTML:e.lastName.serverError,errorText:t.lastNameErrorMessage(),labelClass:a,labelText:o._("Last name"),name:"lname",onChange:t.onLastNameChanged,placeholder:t.getPlaceholder("last"),value:e.lastName.rawValue}));return t.expSubgrowthBizMergeFirstLast.variantIs("V1")&&(s=t.renderFullNameInput()),s},t}return a.__extends(t,e),Object.defineProperty(t.prototype,"expSubgrowthBizMergeFirstLast",{get:function(){return this.props.isTrial?d.Experiment(this.props.experiments.subgrowthBizTryMergeFirstLast):d.Experiment(this.props.experiments.subgrowthBizBuyMergeFirstLast)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ncctExp",{get:function(){return d.Experiment(this.props.experiments.subgrowthBizNoCcTrials)},enumerable:!0,configurable:!0}),t.prototype.onEmailChanged=function(e){this.props.onFirstFieldChange&&this.props.onFirstFieldChange(),this.props.actions.updateEmail(e.value)},t.prototype.onPasswordChanged=function(e){this.props.onFirstFieldChange&&this.props.onFirstFieldChange(),this.props.actions.updatePassword(e.value)},t.prototype.onCaptchaChanged=function(e){this.props.actions.updateCaptcha(e.target.value)},t.prototype.firstNameErrorMessage=function(){var e=this.props.formData.firstName;return e.showError&&!m.FormValueHelper.isValid(e)?o._("Please enter a valid first name."):""},t.prototype.lastNameErrorMessage=function(){var e=this.props.formData.lastName;return e.showError&&!m.FormValueHelper.isValid(e)?o._("Please enter a valid last name."):""},t.prototype.fullNameErrorMessage=function(){var e=this.props.formData,t=e.firstName;return t.showError&&!m.FormValueHelper.isValid(t)?o._("Please enter a valid name.",{comment:"Error message for full name"}):""},t.prototype.emailErrorMessage=function(){var e=this.props.formData,t=e.email;if(t.showError)switch(t.errorState){case l.EmailErrorState.Empty:return o._("Please enter an email address.");case l.EmailErrorState.NoAt:return o._("An email address must contain a single @");case l.EmailErrorState.BadUsername:var a=t.formattedValue.split("@")[0];return o._("The username portion of the email address is invalid               (the portion before the @: %(username)s).").format({username:a});case l.EmailErrorState.BadDomain:var r=t.formattedValue.split("@")[1];return""===r?o._("The domain portion of the email address is invalid                 (the portion after the @)."):o._("The domain portion of the email address is invalid                 (the portion after the @: %(domain)s).").format({domain:r});case l.EmailErrorState.Taken:var i=encodeURIComponent(s.get_href()),c="/login?cont="+i,m=n.createElement("a",{key:"a-signin",className:"login-register-switch-link",href:c});return n.createElement("span",null,p.reactFormat(o._("This e-mail is already taken. <a_signin>Sign in</a_signin> or                   <a_forgot>reset your password</a_forgot>."),{a_signin:m,a_forgot:n.createElement("a",{key:"a-forgot",href:"/forgot"})}))}return""},t.prototype.passwordErrorMessage=function(){var e=this.props.formData.password;return e.errorState===l.PasswordErrorState.TooShort?o._("Passwords must be 6 characters or more."):e.showError&&!m.FormValueHelper.isValid(e)?o._("Please enter a valid password."):""},t.prototype.captchaError=function(){var e=this.props.formData.captcha;return e.showError?m.FormValueHelper.isValid(e)?{message_html:e.serverError}:{message_text:o._("Please enter a CAPTCHA response.")}:null},t.prototype.renderCaptcha=function(){return this.props.needsCaptcha?n.createElement("div",{className:"captcha-fields"},n.createElement(u,{error:this.captchaError(),public_key:this.props.recaptchaPublicKey,variant:"standard",onInputChange:this.onCaptchaChanged.bind(this)})):null},t.prototype.componentDidMount=function(){var e=this;h.waitForTTI().then(function(){return e.props.actions.fetchCaptcha()})},t.prototype.render=function(){var e=this.props,t=e.formData,a=e.isValidMSP,s=r({"hidden-label":this.ncctExp.variantIn("V6","V7","V8","V9","V10","V11","V12","V13")});return n.createElement("div",{className:"new-account-info grid__item"},this.renderNameInputs(),n.createElement("div",{className:"credentials-fields grid__item grid--x-bookend"},n.createElement(c.LabeledTextInput,{className:"grid__item grid__item--medium--11-24",disabled:a,errorHTML:t.email.serverError,errorText:this.emailErrorMessage(),labelClass:s,labelText:o._("Email"),onBlur:this.onEmailBlur.bind(this),onChange:this.onEmailChanged.bind(this),name:"email",placeholder:this.getPlaceholder("email"),type:"email",value:t.email.rawValue}),n.createElement("div",{className:"credentials-fields__password grid__item grid__item--medium--11-24"},n.createElement(i.PasswordStrengthMeter,{password:t.password.rawValue,zxcvbnPostTti:this.props.passwordStrengthPostTTI}),n.createElement(c.LabeledTextInput,{errorHTML:t.password.serverError,errorText:this.passwordErrorMessage(),labelClass:s,labelText:o._("Password"),name:"password",onChange:this.onPasswordChanged.bind(this),placeholder:this.getPlaceholder("password"),type:"password",value:t.password.rawValue}))),this.renderCaptcha())},t})(n.Component);t.NewAccountInfo=_}),define("modules/clean/react/payments/checkout/components/account_info/team_info",["require","exports","tslib","external/react","modules/clean/react/sprite","modules/core/i18n","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/checkout/components/inputs/labeled_select_input","modules/clean/react/payments/checkout/components/inputs/labeled_text_input","modules/constants/trademark","modules/clean/react/tooltip"],function(e,t,a,r,n,s,o,i,c,l,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultCompanySize="Below 50",t.CompanySizes={"Below 50":s._("Below 50"),"50-99":s._("50-99"),"100-249":s._("100-249"),"250-499":s._("250-499"),"500-999":s._("500-999"),"1000-2499":s._("1000-2499"),"2500-4999":s._("2500-4999"),"5000+":s._("5000+")};var u=(function(e){function u(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTeamNameChanged=function(e){t.props.onFirstFieldChange&&t.props.onFirstFieldChange(),t.props.actions.updateTeamName(e.value)},t.onTeamPhoneChanged=function(e){t.props.onFirstFieldChange&&t.props.onFirstFieldChange(),t.props.actions.updateTeamPhone(e.value)},t.onCompanySizeChanged=function(e){t.props.onFirstFieldChange&&t.props.onFirstFieldChange(),t.props.actions.updateCompanySize(e.value)},t}return a.__extends(u,e),u.prototype.teamNameErrorString=function(){var e=this.props.formData.teamName;return e.showError&&!o.FormValueHelper.isValid(e)?s._("Please enter a valid team name."):""},u.prototype.teamPhoneErrorString=function(){var e=this.props.formData.teamPhone;return e.showError&&!o.FormValueHelper.isValid(e)?s._("Please enter a valid contact telephone."):""},u.prototype.companySizeErrorString=function(){var e=this.props.formData.companySize;return e.showError&&!o.FormValueHelper.isValid(e)?s._("Please enter your company size."):""},u.prototype.renderTeamNameLabel=function(){var e=s._("Team name"),t=s._("The ‘team name’ is the name your       %(trademark_business)s account will go by. For example,       ‘Team World Peace.’ You can always change this, even after       it’s been set.").format({trademark_business:l.TRADEMARK_BUSINESS}),a=r.createElement(m.Tooltip,{tooltip_classname:"team-name-label-tooltip-bubble",position:m.TooltipPosition.RIGHT,tooltip_contents:t},r.createElement(n.Sprite,{group:"web",name:"info",alt:""}));return r.createElement("span",{className:"grid__item grid--y-middle"},e,a)},u.prototype.render=function(){var e=this.props,a=e.formData,n=e.isTrial,o=Object.keys(t.CompanySizes).map(function(e){return r.createElement("option",{value:e,key:e},t.CompanySizes[e])});return n?null:r.createElement("div",{className:"team-info-fields grid__item grid--x-bookend"},r.createElement(c.LabeledTextInput,{name:"team_name",labelText:this.renderTeamNameLabel(),className:"grid__item grid__item--medium--7-24 input__label--team_name",value:a.teamName.rawValue,onChange:this.onTeamNameChanged,errorText:this.teamNameErrorString(),errorHTML:a.teamName.serverError,disabled:this.props.isValidMSP,maxLength:20}),r.createElement(c.LabeledTextInput,{name:"team_phone",type:"tel",labelText:s._("Contact telephone"),className:"grid__item grid__item--medium--7-24 input__label--team_phone",value:a.teamPhone.rawValue,onChange:this.onTeamPhoneChanged,errorText:this.teamPhoneErrorString(),errorHTML:a.teamPhone.serverError,disabled:this.props.isValidMSP}),r.createElement(i.LabeledSelectInput,{errorHTML:a.companySize.serverError,errorText:this.companySizeErrorString(),labelText:s._("Company size"),className:"grid__item grid__item--medium--7-24 input__label--company_size",name:"company_size",onChange:this.onCompanySizeChanged,value:a.companySize.rawValue},o))},u})(r.Component);t.TeamInfo=u}),define("modules/clean/react/payments/checkout/components/confirm_button",["require","exports","tslib","external/react","external/classnames"],function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s;(function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary"})(s=t.Importance||(t.Importance={}));var o=(function(e){function t(t){var a=e.call(this,t)||this;return a.state={loaded:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.setState(function(e){return{loaded:!0}})},t.prototype.render=function(){var e=void 0!==this.props.importance?s[this.props.importance].toLowerCase():s[s.Primary].toLowerCase(),t=n((i={"confirm-button":!0,"checkout-button":!0},i["checkout-button--"+e]=!0,i),this.props.className),a=this.props.disabled||!this.state.loaded,o=this.props.type||"submit";return r.createElement("button",{type:o,className:t,disabled:a,onClick:this.props.onClick},r.createElement("span",{className:"confirm-text type--semib"},this.props.text));var i},t})(r.Component);t.ConfirmButton=o}),define("modules/clean/react/payments/checkout/components/form_section",["require","exports","tslib","external/react","external/classnames"],function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=n(["form-section","grid__item",this.props.className]),t=n({"top-row":!0,grid__item:!0,"grid--x-bookend":!!this.props.sideHeader,"grid--y-middle":!!this.props.sideHeader});return r.createElement("section",{className:e},r.createElement("div",{className:"section-header grid__item"},r.createElement("div",{className:t},r.createElement("h3",{className:"header-text type--form-title"},this.props.title),r.createElement("span",{className:"header-side-text type--form-help"},this.props.sideHeader)),r.createElement("div",{className:"sub-header type--form-help"},this.props.subHeader)),this.props.children)},t})(r.Component);t.FormSection=s}),define("modules/clean/react/payments/checkout/components/help_section/customer_list",["require","exports","tslib","modules/constants/python","modules/constants/trademark","external/classnames","modules/clean/react/image","external/react","modules/core/i18n","modules/clean/stormcrow/experiment"],function(e,t,a,r,n,s,o,i,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.renderCustomer=function(e){var t="customer-list--images "+e.slug;return i.createElement(o.Image,{key:"customer-list#"+e.slug,className:t,src:e.logo,srcHiRes:e.logo_hires,alt:e.name})},t.prototype.render=function(){var e=this.props,t=e.customerToCountryMap,a=e.countryCode,o=e.showTaxDisclaimer,m=e.experiments,u=t[a];u||(u=t.default);var p=void 0;o&&(p=i.createElement("div",{className:"help-section grid__container--p-small"},i.createElement("div",{className:"tax-disclaimer type--copy-legal"},c._("Total prices quoted include applicable taxes."))));var d,h=s({"customer-list":!0,grid__container:!0,"grid--x-bookend":!this.props.centerCustomers,"grid--x-center":this.props.centerCustomers,"grid--y-middle":!0}),_=void 0;return m&&l.Experiment(m.subgrowthBizTryLogosRemoval).variantIs("V1")?d=c._("Over %(million_user_count)s million people use Dropbox and         more than %(business_count)s teams use         %(trademark_business)s to work smarter.").format({million_user_count:r.MILLION_USER_COUNT,business_count:r.PUBLIC_DFB_COUNT,trademark_business:n.TRADEMARK_BUSINESS}):(_=i.createElement("div",{className:h},u.map(this.renderCustomer)),d=c._("Over %(million_user_count)s million people use Dropbox and         more than %(business_count)s teams use         %(trademark_business)s to work smarter, including:").format({million_user_count:r.MILLION_USER_COUNT,business_count:r.PUBLIC_DFB_COUNT,trademark_business:n.TRADEMARK_BUSINESS})),i.createElement("div",{className:"section customer-list-section"},i.createElement("h1",{className:"type--help-title"},c._("Who’s using Dropbox?")),i.createElement("div",{className:"type--help-copy"},d),_,p)},t})(i.Component);t.CustomerList=m}),define("modules/clean/react/payments/checkout/components/help_section/order_summary",["require","exports","tslib","external/react","external/classnames","modules/clean/react_format","modules/core/i18n","modules/clean/payments/cash","modules/clean/react/payments/common/form_value_helpers","modules/clean/payments/skus/constants","modules/clean/react/payments/business/state/state","modules/clean/stormcrow/experiment","modules/clean/stormcrow/stormcrow_exposure_logger"],function(e,t,a,r,n,s,o,i,c,l,m,u,p){"use strict";function d(e){return e===l.ScheduleId.MONTHLY?o._("%(price)s per month"):o._("%(price)s per year")}Object.defineProperty(t,"__esModule",{value:!0});var h=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidUpdate=function(){var e=this.props,t=e.experiments,a=e.formStep,r=e.ncctVariant,n=e.showDueToday,s=e.trialIsActive;a===m.BillingFormSteps().checkoutStep&&n&&s&&u.Experiment(r).variantIs("V13")&&t&&u.Experiment(t.subgrowthBizTpcrBillingDueToday).variantIn("CONTROL","V1")&&(new p.StormcrowExposureLogger).logExposure("subgrowth_biz_tpcr_billing_due_today",t.subgrowthBizTpcrBillingDueToday)},t.prototype.renderLicenses=function(e,t,a,n){var i=e.getInitialPlanInfo(),c=i.count,l=i.price;n&&(i=t.getInitialPlanInfo(),c=i.count,l=i.price.multiply(12));var m=e.getTotalNumberOfLicenses(),u=l.divide(c),p=u.multiply(m);return[r.createElement("tr",{className:"order-summary__licenses",key:"combine-licenses-total-row"},r.createElement("td",{className:"line-item"},s.reactFormat(o.ungettext("<span>%(count)s</span> user","<span>%(count)s</span> users",m),{count:m,span:r.createElement("span",{className:"order-summary__license-count"})})),r.createElement("td",{className:"price"},a.format({price:p.toString()})))]},t.prototype.renderAnnualDiscount=function(e){var t=e.getYearlySavingsWithoutPromoPercentage(),a=e.getYearlySavingsWithoutPromo();return r.createElement("tr",{className:"order-summary__savings order-summary__savings--yearly"},r.createElement("td",{className:"line-item"},o._("Yearly savings (%(discount)s)").format({discount:o.format_percent(Math.round(t))})),r.createElement("td",{className:"price"},"-",a.toString()))},t.prototype.renderPromoDiscount=function(e){var t=e.getPromoDiscount(),a=e.getYearlyPriceWithoutPromo(!0),n=a.multiply(t).divide(100);return r.createElement("tr",{className:"order-summary__savings order-summary__savings--promo"},r.createElement("td",{className:"line-item"},o._("Discount (%(discount)s)").format({discount:o.format_percent(Math.round(t))})),r.createElement("td",{className:"price"},"-",n.toString()))},t.prototype.getTaxNameForCountry=function(e){var t=this.props.taxNamesByCountry;return t[e]||t.null},t.prototype.renderTaxes=function(e){var t=e.getTaxCountryCode(),a=e.getTaxPercentage(),n=e.getTaxPrice().toString();if(a>0&&t){var s=this.getTaxNameForCountry(t);return r.createElement("tr",{className:"order-summary__taxes"},r.createElement("td",{className:"line-item"},o._("%(tax_name)s (%(tax_percentage)s)").format({tax_name:s,tax_percentage:o.format_percent(a)})),r.createElement("td",{className:"price"},n))}return null},t.prototype.render=function(){var e=this.props,t=e.className,a=e.discountInfo,s=e.experiments,l=e.monthlyTransition,m=e.ncctVariant,p=e.numberOfUsers,d=e.pricingData,h=e.schedule,_=e.showDueToday,g=e.showTotal,f=e.transition,y=e.trialIsActive;if(!c.FormValueHelper.isValid(p)&&!p.isUnderLimit||p.isUnderLicenseLimit||!f||!l)return r.createElement("div",null);var v=f.getScheduleId()===l.getScheduleId(),S=!v,b=!0;a&&a.hasOwnProperty("allowMonthly")&&(b=!!a.allowMonthly);var E,x=!(!a||!b&&v),T=this.props.getScheduleText(h),P=f.getTotalPrice().toString(),N=n("order-summary",t);v||(E=this.renderAnnualDiscount(d));var C;x&&(C=this.renderPromoDiscount(d));var w;return _&&y&&(u.Experiment(m).variantIn("V7","V9")||u.Experiment(m).variantIs("V13")&&s&&u.Experiment(s.subgrowthBizTpcrBillingDueToday).variantIs("V1"))&&(w=r.createElement("tr",{className:"order-summary__due-today"},r.createElement("td",{className:"line-item"},o._("Due today")),r.createElement("td",{className:"price"},new i.Cash(0,f.getTotalPrice().currency).toString()))),r.createElement("div",{className:N},this.props.header||r.createElement("h1",{className:"type--help-title"},o._("Order summary")),r.createElement("table",null,this.props.tableHeader||r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"type--help-copy"},o._("Item")),r.createElement("th",{className:"type--help-copy"},o._("Price")))),r.createElement("tbody",{className:"type--copy-mini"},this.renderLicenses(f,l,T,S),E,C,this.renderTaxes(f),g&&r.createElement("tr",{className:"order-summary__total"},r.createElement("td",{className:"line-item"},o._("Total")),r.createElement("td",{className:"price"},T.format({price:P}))),w),this.props.tableFooter))},t.defaultProps={getScheduleText:d,showDueToday:!0,showTotal:!0},t})(r.Component);t.OrderSummary=h}),define("modules/clean/react/payments/checkout/components/multistep/account_info_panel",["require","exports","tslib","external/react","external/classnames","modules/clean/react/payments/checkout/components/account_info/account_info_section"],function(e,t,a,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.validFormData=function(e,t,a,r){if(!t)if("V1"===a.subgrowthBizBuyMergeFirstLast||"V1"===a.subgrowthBizTryMergeFirstLast){if(""===e.firstName.rawValue||""===e.email.rawValue||""===e.password.rawValue)return!1}else if(""===e.firstName.rawValue||""===e.lastName.rawValue||""===e.email.rawValue||""===e.password.rawValue)return!1;return!!r||""!==e.teamName.rawValue&&""!==e.teamPhone.rawValue&&""!==e.companySize.rawValue},t.prototype.render=function(){var e=this.props,t=e.actions,a=e.currentUrl,o=e.discountInfo,i=e.experiments,c=e.existingAccountShowing,l=e.formData,m=e.isTrial,u=e.locale,p=e.needsCaptcha,d=e.passwordStrengthPostTTI,h=e.recaptchaPublicKey,_=e.userInfo,g=e.visible,f=n({"account-info-section":!0,grid__item:!0,hidden:g===!1});return r.createElement("div",{className:f},r.createElement(s.AccountInfoSection,{actions:t,currentUrl:a,discountInfo:o,existingAccountShowing:c,experiments:i,formData:l,isTrial:m,locale:u,needsCaptcha:p,recaptchaPublicKey:h,sectionIndex:1,userInfo:_,passwordStrengthPostTTI:d}))},t})(r.Component);t.AccountInfoPanel=o}),define("modules/clean/react/payments/checkout/components/multistep/multistep_indicator",["require","exports","tslib","external/react","modules/core/i18n"],function(e,t,a,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e="multistep-indicator step-"+this.props.index,t=n._("Step %(index)s of 3").format({index:this.props.index});return r.createElement("div",{className:e},t)},t})(r.Component);t.MultistepIndicator=s}),define("modules/clean/react/payments/checkout/components/multistep/payment_method_panel",["require","exports","tslib","external/react","external/classnames","modules/core/i18n","modules/clean/react/payments/checkout/components/form_section","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_form","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_lock","modules/clean/payments/skus/constants","modules/clean/react/payments/checkout/components/terms_and_service","modules/clean/react/tooltip","modules/clean/stormcrow/experiment","modules/clean/react/payments/checkout/components/california_legal_terms"],function(e,t,a,r,n,s,o,i,c,l,m,u,p,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.prepareForSubmission=function(){return this.paymentMethodForm.prepareForSubmission()},t.validFormData=function(e,t){if(e.paymentMethod.formattedValue===i.PaymentMethod.DirectDeposit&&(""===e.accountHolderName.rawValue||""===e.iban.rawValue||!e.mandateSigned.rawValue))return!1;var a=e.countryCode.formattedValue;return(!t.allow_zip_code_for_country(a)||""!==e.zipCode.rawValue)&&e.termsAndService.rawValue},t.prototype.renderCurrencyBanner=function(e,t,a,n){if(n){var o=void 0;if(e.schedule.formattedValue===m.ScheduleId.MONTHLY?o=s._("Your local currency has changed. Your selected plan\n        is %(monthly_per_user)s / user / month (%(monthly_price)s charged monthly).\n        You’ll only be charged if you don’t cancel your trial before it\n        ends on %(trial_end_date)s.").format({trial_end_date:a,monthly_per_user:t.getMonthlyPerUserPrice(),monthly_price:t.getMonthlyPrice()}):e.schedule.formattedValue===m.ScheduleId.YEARLY&&(o=s._("Your local currency has changed. Your selected plan\n        is %(monthly_per_user)s / user / month (%(annual_price)s charged yearly).\n        You’ll only be charged if you don’t cancel your trial before it\n        ends on %(trial_end_date)s.").format({trial_end_date:a,monthly_per_user:t.getYearlyPerUserPrice(),annual_price:t.getYearlyPrice()})),o)return r.createElement("div",{className:"currency-banner"},o)}},t.prototype.renderTaxBanner=function(e,t,a,n,o){var i=t.getMonthlyPrice(!1),c=t.getMonthlyPrice(!0),l=0!==i.subtract(c).amount;if(n&&!o&&l){var u=void 0;return e.schedule.formattedValue===m.ScheduleId.MONTHLY?u=s._("Your billing location requires additional taxes. Your selected plan\n        is %(monthly_per_user)s / user / month (%(monthly_price)s charged monthly).\n        You’ll only be charged if you don’t cancel your trial before it\n        ends on %(trial_end_date)s.").format({trial_end_date:a,monthly_per_user:t.getMonthlyPerUserPrice(),monthly_price:t.getMonthlyPrice()}):e.schedule.formattedValue===m.ScheduleId.YEARLY&&(u=s._("Your billing location requires additional taxes. Your selected plan\n        is %(monthly_per_user)s / user / month (%(annual_price)s charged yearly).\n        You’ll only be charged if you don’t cancel your trial before it\n        ends on %(trial_end_date)s.").format({trial_end_date:a,monthly_per_user:t.getYearlyPerUserPrice(),annual_price:t.getYearlyPrice()})),r.createElement("div",{className:"tax-banner"},u)}},t.prototype.render=function(){var e,t,a=this,i=this.props,m=i.actions,_=i.countryList,g=i.experiments,f=i.formData,y=i.iframeUrl,v=i.paymentSpec,S=i.pricingData,b=i.trialEndDate,E=i.visible,x=f.zipCode.rawValue,T=n({"payment-info-section":!0,grid__item:!0,hidden:E===!1});E&&(e=this.renderCurrencyBanner(f,S,b,this.props.hasCurrencyChanged),t=this.renderTaxBanner(f,S,b,this.props.hasTaxChangedWithinCountry,this.props.hasCurrencyChanged));var P=r.createElement("span",null,s._("You won’t be charged now."));return r.createElement("div",{className:T},r.createElement("div",{className:"payment-lock"},r.createElement(l.PaymentMethodLock,{spriteName:"lock_blue",tooltipPosition:p.TooltipPosition.TOP})),r.createElement(o.FormSection,{title:s._("3. Confirm your trial"),sideHeader:P},r.createElement(c.PaymentMethodForm,{actions:m,countryList:_,formData:f,iframeUrl:y,isTeam:!0,paymentIsDown:this.props.paymentIsDown,paymentSpec:v,ref:function(e){return a.paymentMethodForm=e},showCpf:g.showCpf,splitExp:d.Experiment(g.subgrowthBizTryExpDropdown).variantIs("V1")}),r.createElement(h.CaliforniaLegalTerms,{zipCode:x}),r.createElement(u.TermsAndService,{actions:m,experiments:g,formData:f,isTrial:!0}),t,e))},t})(r.Component);t.PaymentMethodPanel=_}),
define("modules/clean/react/payments/checkout/components/multistep/team_plan_panel",["require","exports","tslib","external/react","modules/core/i18n","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/checkout/components/form_section","modules/clean/react/payments/checkout/components/team_plan_section"],function(e,t,a,r,n,s,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.validFormData=function(e,t){return s.FormValueHelper.isValid(e.numberOfUsers)&&s.FormValueHelper.isValid(e.schedule)},t.prototype.render=function(){var e=this.props,t=e.formData,a=e.actions,s=e.experiments,c=e.skuContent,l=r.createElement("span",null,n._("You won’t be charged now."));return r.createElement(o.FormSection,{title:n._("2. Choose your plan"),className:"team-plan-section",sideHeader:l},r.createElement(i.TeamPlanSection,{actions:a,advancedDisplayName:this.props.advancedDisplayName,experiments:s,formData:t,isTrial:!0,isVatCountry:this.props.isVatCountry,pricingData:this.props.pricingData,standardDisplayName:this.props.standardDisplayName,skipPricing:this.props.skipPricing,skuContent:c}))},t})(r.Component);t.TeamPlanPanel=c}),define("modules/clean/react/payments/checkout/components/payment_method_form/payment_method_lock",["require","exports","tslib","external/react","modules/core/i18n","modules/clean/react/sprite_div","modules/clean/react/tooltip"],function(e,t,a,r,n,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o.Tooltip,c=o.TooltipPosition,l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.spriteName,a=e.tooltipPosition;return t||(t="lock"),void 0===a&&(a=c.RIGHT),r.createElement(i,{position:a,tooltip_contents:n._("Payments are secured using SSL and client-side encryption.")},r.createElement(s,{group:"web",name:t}))},t})(r.Component);t.PaymentMethodLock=l}),define("modules/clean/react/payments/checkout/components/skus/sku_selection_section",["require","exports","tslib","modules/clean/payments/skus/sku_content","external/react","external/classnames","modules/core/exception","modules/clean/react/sprite_div","modules/core/i18n","modules/clean/react/payments/checkout/components/confirm_button","modules/clean/stormcrow/experiment","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/image","modules/clean/react/payments/checkout/components/inputs/radio_input","modules/clean/payments/skus/constants","modules/clean/payments/skus/pricing_data","modules/clean/react/payments/business/actions/actions","modules/clean/static_urls","modules/clean/react/async/loadable","modules/clean/web_timing_logger"],function(e,t,a,r,n,s,o,i,c,l,m,u,p,d,h,_,g,f,y,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var S=y.Loadable({loader:function(){return v.waitForTTI().then(function(){return new Promise(function(t,a){e(["modules/clean/react/payments/checkout/components/skus/faq_columns"],t,a)}).then(function(e){return e.FAQColumns})})}}),b=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSkuSelect=function(e){return function(){var a=t.props,r=a.formStep,n=a.actions;n.updateProductPlanType(e);var s;s=e===h.ProductPlanType.NEW_STANDARD?g.UpdateFormStepOrigins.SelectStandardButton:g.UpdateFormStepOrigins.SelectAdvancedButton,n.updateFormStep(r+1,s)}},t.getConfirmButtonText=function(){var e;return t.props.isTrial?(void 0===t.props.trialLength&&o.reportException({err:new Error("trialLength prop not provided when expected for trials"),severity:o.SEVERITY.CRITICAL}),e=c.ungettext("Try free for %(trial_length)s day","Try free for %(trial_length)s days",t.props.trialLength,{comment:"confirm button on /business/try plan selection step"}).format({trial_length:t.props.trialLength})):e=c._("Select"),e},t.getSkuBoxClass=function(e){var a=t.props,r=a.currentPlan,n=a.ncctVariant,o=m.Experiment(n).variantIn("V3","V4","V5","V6","V7","V8","V9","V10","V11","V12","V13"),i="advanced"===e&&t.shouldShowAdvancedBestValue&&!o||"standard"===e&&r===h.ProductPlanType.NEW_STANDARD&&o||"advanced"===e&&r===h.ProductPlanType.ADVANCED&&o;return s({"grid__item--medium--7-24":!0,"sku__box--has-callout-tab":i,"sku__box--sibling-has-callout-tab":!i&&(t.shouldShowAdvancedBestValue||o)},"sku__box","grid__item","grid__item--stack")},t}return a.__extends(t,e),Object.defineProperty(t.prototype,"subgrowthBizAllAccurateGbs",{get:function(){return m.Experiment(this.props.experiments.subgrowthBizAllAccurateGbs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subgrowthBizNewBuyAnnSavings",{get:function(){return m.Experiment(this.props.experiments.subgrowthBizNewBuyAnnSavings)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subgrowthBizNewTryAnnSavings",{get:function(){return m.Experiment(this.props.experiments.subgrowthBizNewTryAnnSavings)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowAdvancedBestValue",{get:function(){return this.props.isBusinessDomain!==!0},enumerable:!0,configurable:!0}),t.validProductPlanType=function(e){var t=e.productPlanType;return u.FormValueHelper.isValid(t)},t.prototype.onScheduleChange=function(e){var t=parseInt(e.value,10);this.props.actions.updateSchedule(t)},t.prototype.renderPlanDescription=function(e){var t=this.props,a=t.advancedPlanInfo,s=t.standardPlanInfo,o=t.experiments.subgrowthBizAllTopPoints,i=r.SkuContentClient.deserialize(s.skuContent),l=r.SkuContentClient.deserialize(a.skuContent),u=function(e){return e.hasUnlimitedSpace()?c._("As much space as your team needs"):c._("%(space)s of space for secure storage").format({space:e.spaceShortFormTb()})},d=u(i),h=u(l);if(m.Experiment(o).variantIn("V1")){var _={standard:n.createElement("ul",{className:"sku__description--exp-V1"},n.createElement("li",{className:"sku__highlight"},d),n.createElement("li",{className:"sku__highlight"},c._("Easy-to-use sharing and collaboration tools"))),advanced:n.createElement("ul",{className:"sku__description--exp-V1"},n.createElement("li",{className:"sku__highlight"},h),n.createElement("li",{className:"sku__highlight"},c._("Sophisticated control and security features"))),enterprise:n.createElement("ul",{className:"sku__description--exp-V1"},n.createElement("li",{className:"sku__highlight"},c._("Customizable solutions")),n.createElement("li",{className:"sku__highlight"},c._("Individualized support to help admins manage at scale")))};return _[e]}if(m.Experiment(o).variantIn("V2")){var _={standard:n.createElement("ul",{className:"sku__description--exp-V2"},n.createElement("li",{className:"sku__highlight sku__highlight--exp-V2"},n.createElement(p.Image,{alt:d,src:f.static_url("/static/images/growth/experiments/storage_1x-vfl5rbt7y.png"),srcHiRes:f.static_url("/static/images/growth/experiments/storage_2x-vflmnOXj_.png")}),d),n.createElement("li",{className:"sku__highlight sku__highlight--exp-V2"},n.createElement(p.Image,{alt:c._("Easy-to-use sharing and collaboration tools"),src:f.static_url("/static/images/growth/experiments/tools_1x-vfl6FHzkk.png"),srcHiRes:f.static_url("/static/images/growth/experiments/tools_2x-vflCVMyyR.png")}),c._("Easy-to-use sharing and collaboration tools"))),advanced:n.createElement("ul",{className:"sku__description--exp-V2"},n.createElement("li",{className:"sku__highlight sku__highlight--exp-V2"},n.createElement(p.Image,{alt:h,src:f.static_url("/static/images/growth/experiments/needs_1x-vflylj0T-.png"),srcHiRes:f.static_url("/static/images/growth/experiments/needs_2x-vflKGT6sv.png")}),h),n.createElement("li",{className:"sku__highlight sku__highlight--exp-V2"},n.createElement(p.Image,{alt:c._("Sophisticated control and security features"),src:f.static_url("/static/images/growth/experiments/features_1x-vflrHrAWR.png"),srcHiRes:f.static_url("/static/images/growth/experiments/features_2x-vflEbWW-j.png")}),c._("Sophisticated control and security features"))),enterprise:n.createElement("ul",{className:"sku__description--exp-V2"},n.createElement("li",{className:"sku__highlight sku__highlight--exp-V2"},n.createElement(p.Image,{alt:c._("Customizable solutions"),src:f.static_url("/static/images/growth/experiments/solutions_1x-vflRvECNM.png"),srcHiRes:f.static_url("/static/images/growth/experiments/solutions_2x-vflsnn3Wv.png")}),c._("Customizable solutions")),n.createElement("li",{className:"sku__highlight sku__highlight--exp-V2"},n.createElement(p.Image,{alt:c._("Individualized support to help admins manage at scale"),src:f.static_url("/static/images/growth/experiments/scale_1x-vfld5IKoP.png"),srcHiRes:f.static_url("/static/images/growth/experiments/scale_2x-vflft3lHD.png")}),c._("Individualized support to help admins manage at scale")))};return _[e]}var g=i.hasUnlimitedSpace()?c._("As much space as you need with easy-to-use sharing and collaboration tools"):c._("%(space)s of space for secure storage with easy-to-use sharing and collaboration tools").format({space:i.spaceShortFormTb()}),y=l.hasUnlimitedSpace()?c._("As much space as you need with sophisticated admin, audit, and integration features"):c._("%(space)s of space for secure storage with sophisticated admin, audit, and integration features").format({space:l.spaceShortFormTb()}),_={standard:n.createElement("p",null,g),advanced:n.createElement("p",null,y),enterprise:n.createElement("p",null,c._("Customizable solutions with individualized support to help admins manage at scale"))};return _[e]},t.prototype.renderBaseFeatureList=function(e,t){var a=e.map(function(e,t){return n.createElement("li",{key:"try-feature-"+t},n.createElement(i,{group:"business",name:"check-blue"}),n.createElement("span",null,e))}),r=t?n.createElement("li",null,n.createElement(i,{group:"business",name:"check-blue"}),n.createElement("span",null,n.createElement("strong",null,t))):null;return n.createElement("div",{className:"section"},n.createElement("ul",{className:"feature-list type--copy-small help__feature-list"},r,a))},t.prototype.renderStandardFeatureList=function(e){var t,a=r.SkuContentClient.deserialize(e);t=a.hasUnlimitedSpace()?c._("As much space as needed"):c._("%(space)s of space",{comment:'e.g. "2 Tb of space"'}).format({space:this.subgrowthBizAllAccurateGbs.variantIs("V1")?a.spaceLongForm():a.spaceLongFormRounded()});var n=[t,c._("120 days of file recovery"),c._("256-bit AES and SSL/TLS encryption"),c._("Smart Sync"),c._("Dropbox Paper admin tools"),c._("Office 365 integration"),c._("Admin console and audit log"),c._("Granular sharing permissions"),c._("User and company-managed groups"),c._("Remote device wipe"),c._("Two-factor authentication (2FA)",{comment:"use indicative verb form"}),c._("Unlimited API access to security and productivity platform partners"),c._("25,000 API calls/month for data transport partners"),c._("Live chat support")];return this.renderBaseFeatureList(n)},t.prototype.renderAdvancedFeatureList=function(e,t){var a=c._("Everything in %(name)s").format({name:e.name}),n=r.SkuContentClient.deserialize(t),s=n.hasUnlimitedSpace()?c._("As much space as needed"):c._("%(space)s of space").format({space:n.spaceLongFormRounded()}),o=[s,c._("Advanced admin controls"),c._("Dropbox Showcase"),c._("Tiered admin roles"),c._("File event tracking"),c._("Advanced user management tools"),c._("Invite enforcement"),c._("Domain verification"),c._("Single sign on (SSO) integration"),c._("Device approvals"),c._("Business hours phone support")];return this.renderBaseFeatureList(o,a)},t.prototype.renderEnterpriseFeatureList=function(e){var t=c._("Everything in %(advanced_name)s").format({advanced_name:e}),a=c._("24/7 phone support (in English)");"en"!==this.props.locale&&"en_GB"!==this.props.locale||(a=c._("24/7 phone support"));var r=[c._("Account Capture"),c._("Network control"),c._("Enterprise mobility management (EMM)"),c._("Domain Insights"),c._("Advanced training for end users and admins"),a];return this.renderBaseFeatureList(r,t)},t.prototype.renderPerUserText=function(e){return c.ungettext("/ user / month, starting with %(count)s user","/ user / month, starting with %(count)s users",e).format({count:e})},t.prototype.calculateYearlySavingsPercentage=function(){var e=Math.floor(Number(this.props.advancedPlanInfo.monthlyPrice.amount)),t=Math.floor(Number(this.props.advancedPlanInfo.yearlyPrice.amount));return Math.round(100*(1-t/12/e))},t.prototype.render=function(){var e,t,a=this.props,r=a.discountInfo,o=a.formData,i=a.isTrial,u=a.ncctVariant,p=a.subChangePlans,g=a.visible,f=a.standardPlanInfo,y=a.advancedPlanInfo,v=a.currentPlan,b=o.schedule.formattedValue,E=r&&r.discountPercentage;p&&p.plans.length>0?(e=new _.PricingDataOrion(p,h.ProductPlanType.NEW_STANDARD,E),t=new _.PricingDataOrion(p,h.ProductPlanType.ADVANCED,E)):(e=new _.PricingDataFromPlan(f,E),t=new _.PricingDataFromPlan(y,E));var x,T;b===h.ScheduleId.YEARLY?(x=e.getYearlyPerUserPrice(!0),T=t.getYearlyPerUserPrice(!0)):(x=e.getMonthlyPerUserPrice(!0),T=t.getMonthlyPerUserPrice(!0));var P=s({hidden:!g,grid__container:!0,"grid--x-center":!0}),N=s({"sku__feature-list":!0,grid__item:!0,"grid__item--medium--7-24":!0,"grid--x-left":!0}),C=n.createElement("a",{rel:"noopener",href:"/business/contact",className:"confirm-button checkout-button checkout-button--secondary",target:"_blank"},n.createElement("span",{className:"confirm-text type--semib"},c._("Contact us",{comment:"used in a button describing how to find out more about enterprise on the plan selection page"}))),w=[n.createElement("div",{className:"sku__heading sku__heading--secondary",key:"enterprise-title"},n.createElement("h2",{className:"type--sku-title"},c._("Enterprise"))),n.createElement("div",{className:"sku__copy grid__item--fluid grid__item--stack grid__item--stack--bookend",key:"enterprise-box"},n.createElement("div",null,n.createElement("h2",{className:"type--title-price"},c._("Contact us",{comment:"used in a header describing how to find out more about enterprise on the plan selection page"})),n.createElement("p",{className:"sku__hidden-price","aria-hidden":!0},this.renderPerUserText(y.minLicenseCount)),this.renderPlanDescription("enterprise")),C)],k=n.createElement("div",{className:"plan-info-current-container"},n.createElement("div",{className:"plan-info-current"},c._("– Your current plan –"))),I=void 0,V=void 0,F=m.Experiment(u).variantIn("V3","V4","V5","V6","V7","V8","V9","V10","V11","V12","V13");F||(v===h.ProductPlanType.NEW_STANDARD?I=k:v===h.ProductPlanType.ADVANCED&&(V=k));var D=[n.createElement("div",{className:"sku__heading sku__heading--secondary",key:"standard-title"},n.createElement("h2",{className:"type--sku-title"},f.skuContent.name)),n.createElement("div",{className:"sku__copy grid__item--fluid grid__item--stack grid__item--stack--bookend",key:"standard-box"},n.createElement("div",null,n.createElement("h2",{className:"type--title-price"},x.toString()),n.createElement("p",null,this.renderPerUserText(f.minLicenseCount)),this.renderPlanDescription("standard")),n.createElement(l.ConfirmButton,{importance:l.Importance.Secondary,text:this.getConfirmButtonText(),onClick:this.onSkuSelect(h.ProductPlanType.NEW_STANDARD)}),I)],A=[n.createElement("div",{className:"sku__heading",key:"advanced-title"},n.createElement("h2",{className:"type--sku-title"},y.skuContent.name)),n.createElement("div",{className:"sku__copy grid__item--fluid grid__item--stack grid__item--stack--bookend",key:"advanced-box"},n.createElement("div",null,n.createElement("h2",{className:"type--title-price"},T.toString()),n.createElement("p",null,this.renderPerUserText(y.minLicenseCount)),this.renderPlanDescription("advanced")),n.createElement(l.ConfirmButton,{text:this.getConfirmButtonText(),onClick:this.onSkuSelect(h.ProductPlanType.ADVANCED)}),V)];F?v===h.ProductPlanType.NEW_STANDARD?D=[n.createElement("div",{className:"sku__tab-callout sku__tab-callout--standard",key:"standard-current-plan-callout"},n.createElement("p",{className:"sku__tab-callout-text"},c._("Your current plan"))),n.createElement("div",{className:"sku__inner-box",key:"standard-box-holder"},D)]:v===h.ProductPlanType.ADVANCED&&(A=[n.createElement("div",{className:"sku__tab-callout",key:"advanced-current-plan-callout"},n.createElement("p",{className:"sku__tab-callout-text"},c._("Your current plan"))),n.createElement("div",{className:"sku__inner-box",key:"advanced-box-holder"},A)]):this.shouldShowAdvancedBestValue&&(A=[n.createElement("div",{className:"sku__tab-callout",key:"advanced-best-value-callout"},n.createElement("p",{className:"sku__tab-callout-text"},c._("Best value"))),n.createElement("div",{className:"sku__inner-box",key:"advanced-box-holder"},A)]);var B;if(this.subgrowthBizNewTryAnnSavings.variantIs("V1")&&i||this.subgrowthBizNewBuyAnnSavings.variantIs("V1")&&!i){var U=this.calculateYearlySavingsPercentage();if(U>0){var L=c.format_percent(U);B=n.createElement("span",{className:"discount discount-label"},c._("(Save up to %(savings_percentage)s)").format({savings_percentage:L}))}}return n.createElement("div",{className:P},n.createElement("div",{className:"sku__schedule-container grid__item grid--x-center grid__container--p-small"},n.createElement("label",{className:"pricing-option yearly grid__item grid__item--shrink grid--vcjc"},n.createElement(d.RadioInput,{name:"sku_schedule_id",id:"sku-annual-radio",value:h.ScheduleId.YEARLY.toString(),checked:b===h.ScheduleId.YEARLY,onChange:this.onScheduleChange.bind(this)}),n.createElement("div",{className:"annually-label type--copy--small"},c._("Billed yearly"),B)),n.createElement("label",{className:"pricing-option monthly grid__item grid__item--shrink grid--vcjc"},n.createElement(d.RadioInput,{name:"sku_schedule_id",id:"sku-monthly-radio",value:h.ScheduleId.MONTHLY.toString(),checked:b===h.ScheduleId.MONTHLY,onChange:this.onScheduleChange.bind(this)}),n.createElement("div",{className:"monthly-label type--copy--small"},c._("Billed monthly")))),n.createElement("div",{className:"sku__plan-container grid__item grid--x-center"},n.createElement("div",{className:this.getSkuBoxClass("standard"),"data-sku":"standard"},D),n.createElement("div",{className:N},this.renderStandardFeatureList(f.skuContent)),n.createElement("div",{className:this.getSkuBoxClass("advanced"),"data-sku":"advanced"},A),n.createElement("div",{className:N},this.renderAdvancedFeatureList(f.skuContent,y.skuContent)),n.createElement("div",{className:this.getSkuBoxClass("enterprise"),"data-sku":"enterprise"},w),n.createElement("div",{className:N,key:"enterprise-feature-list"},this.renderEnterpriseFeatureList(y.skuContent.name))),n.createElement(S,{experiments:this.props.experiments,planMinLicenses:f.minLicenseCount,ncctVariant:this.props.ncctVariant,trialIsActive:this.props.trialIsActive,trialEndDate:this.props.trialEndDate,standardSkuContent:f.skuContent,advancedSkuContent:y.skuContent}))},t})(n.Component);t.SkuSelectionSection=b}),define("modules/clean/react/payments/checkout/components/team_plan_section",["require","exports","tslib","external/react","external/classnames","modules/core/i18n","modules/clean/react/payments/checkout/components/modals/pro_trials_upsell_modal","modules/clean/react_format","modules/clean/react/payments/checkout/components/number_of_users","modules/clean/react/payments/checkout/components/schedule_field","modules/clean/react/payments/checkout/components/schedule_dropdown","modules/clean/payments/skus/constants","modules/clean/stormcrow/experiment","modules/clean/payments/skus/sku_content","modules/clean/react/modal"],function(e,t,a,r,n,s,o,i,c,l,m,u,p,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.invokeProTrialsUpsellModal=function(){var e=t.props.skuContent;if(e){var a=d.SkuContentClient.deserialize(e);h.Modal.showInstance(r.createElement(o.ProTrialsUpsellModal,{proSku:a}))}},t}return a.__extends(t,e),t.prototype.render=function(){var e,t=this.props.experiments,a=n({"team-options-container":!0,"grid__item grid--x-bookend":!0}),o="ON"===this.props.experiments.ujOneLicense&&"ON"===this.props.experiments.ujProfessionalTrial;o&&(e=this.invokeProTrialsUpsellModal);var d,h=r.createElement(c.NumberOfUsers,{actions:this.props.actions,experiments:t,formData:this.props.formData,isTrial:this.props.isTrial}),_=r.createElement(c.UserLimitError,{experiments:t,formData:this.props.formData,isTrial:this.props.isTrial,ncctVariant:this.props.ncctVariant,teamNumUsers:this.props.teamNumUsers,trialIsActive:this.props.trialIsActive,onErrorCTA:e});d=p.Experiment(t.subgrowthBizNoCcTrials).isActive?r.createElement(m.ScheduleDropdown,{actions:this.props.actions,formData:this.props.formData}):r.createElement(l.ScheduleField,{actions:this.props.actions,callout:this.props.scheduleCallout,experiments:t,formData:this.props.formData,isTrial:this.props.isTrial,isVatCountry:this.props.isVatCountry,pricingData:this.props.pricingData,skipPricing:this.props.skipPricing});var g;return this.props.formData.schedule.formattedValue===u.ScheduleId.YEARLY&&this.props.pricingData.getPromoDiscount()&&!this.props.skipPricing&&(g=r.createElement("span",{className:"discount-detailed-explanation"},i.reactFormat(s._("You are saving %(discount_total)s in total on your yearly subscription. This includes a special %(discount_promo)s discount and a standard %(discount_yearly)s savings for choosing yearly."),{discount_total:s.format_percent(this.props.pricingData.getYearlySavingsPercentage()),discount_promo:s.format_percent(this.props.pricingData.getPromoDiscount()),discount_yearly:s.format_percent(this.props.pricingData.getYearlySavingsWithoutPromoPercentage())}))),r.createElement("div",{className:"grid__item"},r.createElement("div",{className:a},h,d),_,g)},t})(r.Component);t.TeamPlanSection=_}),define("modules/clean/react/payments/checkout/components/terms_and_service",["require","exports","tslib","external/react","modules/clean/react_format","modules/clean/react/payments/checkout/components/inputs/labeled_checkbox_input","modules/clean/react/payments/buy/components/inputs/inputs","modules/clean/react/payments/common/form_value_helpers","modules/clean/stormcrow/experiment","modules/constants/trademark","modules/core/i18n"],function(e,t,a,r,n,s,o,i,c,l,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),Object.defineProperty(t.prototype,"ncctExp",{get:function(){return c.Experiment(this.props.experiments.subgrowthBizNoCcTrials)},enumerable:!0,configurable:!0}),t.prototype.onTermsAndServiceChange=function(e){this.props.actions.updateTermsAndService(e.checked)},t.prototype.onTermsAndServiceChangeArbor=function(e){var t=this.props.formData.termsAndService.rawValue;this.props.actions.updateTermsAndService(!t)},t.prototype.termsAndServiceErrorString=function(){var e=this.props.formData.termsAndService;return!i.FormValueHelper.isValid(e)&&e.showError?m._("Please agree to the terms of service."):""},t.prototype.render=function(){var e=this.props.formData,t=n.reactFormat(m._("I agree to the <link_agreement>%(trademark_business)s Agreement</link_agreement>       and <link_terms>Terms</link_terms>."),{link_agreement:r.createElement("a",{key:"tos-link-agreement",href:"/business_agreement",target:"_blank",rel:"noopener noreferrer"}),link_terms:r.createElement("a",{key:"tos-link-terms",href:"/terms",target:"_blank",rel:"noopener noreferrer"}),trademark_business:l.TRADEMARK_BUSINESS}),a=r.createElement("span",{className:"type--copy-small",onClick:this.onTermsAndServiceChangeArbor.bind(this)},t);return this.ncctExp.variantIn("V6","V7","V8","V9","V10","V11","V12","V13")?r.createElement(o.LabeledCheckboxInput,{checked:e.termsAndService.rawValue,containerClassName:"billing-terms-and-service grid__item grid--y-middle",errorText:this.termsAndServiceErrorString(),labelText:a,name:"tos_agree",onClick:this.onTermsAndServiceChangeArbor.bind(this)}):r.createElement(s.LabeledCheckboxInput,{checked:e.termsAndService.rawValue,className:"billing-terms-and-service grid__item grid--y-middle",errorHTML:e.termsAndService.serverError,errorText:this.termsAndServiceErrorString(),labelText:r.createElement("span",null,t),name:"tos_agree",onChange:this.onTermsAndServiceChange.bind(this)})},t})(r.Component);t.TermsAndService=u}),define("modules/clean/react/payments/common/middleware/web_teams_logger",["require","exports","modules/clean/analytics","modules/clean/react/payments/common/form_value_helpers","modules/clean/payments/skus/constants","modules/clean/react/payments/business/actions/actions"],function(e,t,a,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a.TeamsWebActionsLogger;t.webTeamsLogger=function(e){var t,a,i=["UpdateFirstName","UpdateFullName","UpdateLastName","UpdateEmail","UpdatePassword","UpdateTeamName","UpdateTeamPhone","UpdateCompanySize","UpdateZipCode","UpdateVat","UpdateAccountHolderName","UpdateIBAN","UpdateMandateSigned","UpdateNonce"];return function(c){return function(l){return function(m){try{var u=c.getState(),p=l(m),d=m.type,h=c.getState(),_=h.pageState,g=h.formData,f=void 0;if(i.indexOf(d)!==-1&&t===d)return p;"UpdateTransitionsStart"===d||"UpdateRenewTransitionsStart"===d?a=(new Date).getTime():"UpdateTransitionsSuccess"!==d&&"UpdateTransitionsError"!==d&&"UpdateRenewTransitionsSuccess"!==d&&"UpdateRenewTransitionsError"!==d||(f=(((new Date).getTime()-a)/1e3).toFixed(1));var y={type:d,flow:_.isPreSelect?"PreSelect":"PlanSelect"};if(void 0!==f&&(y.roundtrip=f),g.productPlanType.rawValue===n.ProductPlanType.NEW_STANDARD?y.sku="standard":g.productPlanType.rawValue===n.ProductPlanType.ADVANCED&&(y.sku="advanced"),"UpdateFormStep"===d){var v=m;y.curStep=u.pageState.formStep,y.nextStep=v.step,void 0!==v.origin&&(y.origin=s.UpdateFormStepOrigins[v.origin],v.origin===s.UpdateFormStepOrigins.PreSelectedSku&&(y.curStep=0))}if("ShowFormFieldErrors"===d){y.step=_.formStep;var S=m,b=S.fieldNames;y.errorFields=b.filter(function(e){if(g.hasOwnProperty(e)){var t=g[e];return t&&!r.FormValueHelper.isValid(t)}return!1}).join(","),y.origin=S.origin}var E=!1,x=!0;if("BlurEmail"===d&&(r.FormValueHelper.isValid(g.email)?(y.email=g.email.rawValue,E=!0):x=!1),"SubmitFormSuccess"===d&&(o.log("ncct_submission_congrats"),x=!1),"BlurFullName"===d){var T=g.firstName.rawValue+" "+g.lastName.rawValue,P=T.replace(/\S/g,"x").replace(/\s/g,".");y.anonymizedName=P,y.numberOfSpaces=P.split(".").length-1,y.numberOfCharacters=P.split("x").length-1,y.numberOfNonASCII=(T.match(/[^\x00-\x7F]/g)||[]).length}if("ToggleExistingAccount"===d){var N="";N=_.existingAccountShowing?"showExisting":"showNew",y.showType=N}if("UpdateNumberOfUsers"===d){var C=m,w=parseInt(C.value,10);isNaN(w)?(y.notANumber=!0,y.isUnderLimit=!1,y.isUnderLicenseLimit=!1,y.isOverLimit=!1):(y.notANumber=!1,y.isUnderLimit=w<_.minNumUsers,y.isUnderLicenseLimit=w<g.numberOfUsers.minLicenseLimit,y.isOverLimit=w>_.maxNumUsers)}return x&&o.log(_.isTrial?"react_checkout_try_action":"react_checkout_buy_action",y,void 0,void 0,E),t=d,p}catch(t){throw o.log(e?"react_checkout_try_crash":"react_checkout_buy_crash",{action:m.type,error:t.stack||t.toString()}),t}}}}}});
//# sourceMappingURL=pkg-legacy-af.min.js-vfllKCsYc.map