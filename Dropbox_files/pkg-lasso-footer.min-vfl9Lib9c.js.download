define("modules/clean/intl_router_utils",["require","exports","modules/core/browser","modules/constants/locales"],function(e,t,o,n){"use strict";function l(){var e=o.get_pathname();if("/"!==e[0])return!1;for(var t=e.split("/",2),l=t[1],r=0,a=n.LIST_OF_LOCALES_WITHOUT_INTERNAL;r<a.length;r++){if(a[r].localeCode===l)return!0}return!1}function r(e){var t=o.get_pathname();if("/"!==t[0])return t;var l=t.split("/"),r=l[1];return n.LIST_OF_LOCALES_WITHOUT_INTERNAL.some(function(t){return t.localeCode===e})&&n.LIST_OF_LOCALES_WITHOUT_INTERNAL.some(function(e){return e.localeCode===r})?(l[1]=e,l.join("/")):t}Object.defineProperty(t,"__esModule",{value:!0}),t.isIntlRouterPath=l,t.getCurrentPathWithLocaleCode=r}),define("modules/clean/react/lasso/footer",["require","exports","tslib","modules/clean/loggers/growth_features_events_logger","external/react","modules/clean/react/title_bubble","modules/clean/react/locale_selector","spectrum/overflow_button","spectrum/popover"],function(e,t,o,n,l,r,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a.LocaleSelectorModal,u=(function(t){function a(o){var l=t.call(this,o)||this;return l.noop=function(){},l.loadComponent=function(t){e(["modules/clean/web_timing_logger"],function(o){(0,o.waitForTTI)().then(function(){var o=function(e){l.setState({modal:e}),t()};o.perfName="react_modal",e(["modules/clean/react/modal"],o)})})},l.logLinkClick=function(e){n.logLassoEvent("footer_button_clicked",{buttonText:e.currentTarget.text,buttonHref:e.currentTarget.href})},l.handleLinkSelection=function(e,t){l.logLinkClick(t),"language-button"===t.currentTarget.id&&l.showLocaleModal()},l.onMouseEnter=function(e){l.setState({hasMouseOver:!0})},l.onMouseLeave=function(e){l.setState({hasMouseOver:!1})},l.state={hasMouseOver:!1},l}return o.__extends(a,t),a.prototype.componentDidMount=function(){this.loadComponent(this.noop)},a.prototype.renderPopoverContentItem=function(e){return l.createElement(c.PopoverContentItem,{className:"other-link",key:e.text.toLowerCase(),href:e.href,target:"_blank",rel:"noopener noreferrer"},e.text)},a.prototype.renderPopoverContentItems=function(){var e=this,t=[];this.props.otherLinks.forEach(function(o){var n=e.renderPopoverContentItem(o);t.push(n)});var o=l.createElement(c.PopoverContentItem,{className:"other-link",key:"language",id:"language-button",href:"#"},this.props.buttonContent.language);return t.push(o),t},a.prototype.showLocaleModal=function(){var e=this.state.modal;e?e.Modal.showInstance(l.createElement(i,{isTeamAdminSettingsConsole:!1,shouldAllowInternalLocales:!1,isRebrand:!1})):this.loadComponent(this.showLocaleModal)},a.prototype.render=function(){if(this.props.experiments.expSubgrowthBizPaperlilpTemplateslilp)return null;var e=this.props,t=e.buttonContent,o=e.privacyHref,n=e.helpHref,a=this.state.hasMouseOver?"secondary":"borderless";return l.createElement("footer",{className:"lasso-footer",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},l.createElement("div",{id:"page-footer"},l.createElement(c.Popover,{className:"other-links",onSelection:this.handleLinkSelection},l.createElement(c.PopoverTrigger,null,l.createElement(s.OverflowButton,{tagName:"span","aria-label":t.more,variant:a})),l.createElement(c.PopoverContent,{attachment:"right",position:"above"},this.renderPopoverContentItems())),l.createElement("a",{className:"privacy-link",href:o,onClick:this.logLinkClick,target:"_blank",rel:"noopener noreferrer"},t.privacy),l.createElement(r.TitleBubble,{content:t.help,position:r.TitleBubble.POSITIONS.TOP,isTargetPositionFixed:!1,distanceFromTarget:5},l.createElement("a",{className:"help-button",href:n,onClick:this.logLinkClick,target:"_blank",rel:"noopener noreferrer"},"?"))))},a})(l.Component);t.LassoFooter=u}),define("modules/clean/react/locale_selector",["require","exports","tslib","external/react","external/react-dom-factories","external/prop-types","external/lodash","jquery","modules/clean/ajax","modules/clean/intl_router_utils","modules/clean/react/css","modules/clean/react/modal","modules/clean/react/sprite","modules/constants/locales","modules/constants/page_load","modules/core/browser","modules/core/i18n","modules/core/notify","modules/core/uri","modules/core/exception"],function(e,t,o,n,l,r,a,s,c,i,u,d,p,m,h,_,f,g,L){"use strict";function C(e){if(null!=e?e.dom_id:void 0)return s(document).ready(function(){return s("#"+e.dom_id).click(function(){return y.wrappedClass.showModal()})})}Object.defineProperty(t,"__esModule",{value:!0});var v=n.createElement,b=function(e,t,o){void 0===o&&(o=!1);var n=o?"/team/admin/set_locale":"/set_locale";return g.Notify.success(f._("Changing language...")),c.SilentBackgroundRequest({url:new L.URI({path:n}),data:{locale:e,locale_cont:t},success:function(){return _.redirect(t)}})},T=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.locale.localeName;return""!==this.props.locale.decorator&&(e+=" ["+this.props.locale.decorator+"]"),l.span({"data-locale":this.props.locale.localeCode},e)},t.displayName="LocaleTag",t.propTypes={locale:r.shape({localeCode:r.string.isRequired,localeName:r.string.isRequired,decorator:r.string.isRequired}).isRequired},t})(n.Component),S=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCloseModal=function(e){return history.pushState("",document.title,_.get_href_no_hash())},t.handleLocaleSelected=function(e){return function(o){return o.preventDefault(),history.pushState("",document.title,_.get_href_no_hash()),d.Modal.close(),b(e,_.get_href_no_hash(),t.props.isTeamAdminSettingsConsole)}},t._renderLocaleList=function(){var e,o=i.isIntlRouterPath();return e=t.props.shouldAllowInternalLocales?m.LIST_OF_LOCALES_WITH_INTERNAL:m.LIST_OF_LOCALES_WITHOUT_INTERNAL,l.div({className:"react-locale-selector-modal"},l.ul({className:"react-locale-selector-modal__list u-unlist u-trim-padding"},Array.from(e).map(function(e){return t._renderLocale(e,o)})))},t._renderLocale=function(e,o){return o?n.createElement("li",{key:e.localeCode},n.createElement("a",{href:i.getCurrentPathWithLocaleCode(e.localeCode)},n.createElement(T,{locale:e}))):n.createElement("li",{key:e.localeCode},n.createElement("button",{className:"locale-option button-as-link react-locale-selector-modal__list-item-button",onClick:t.handleLocaleSelected(e.localeCode)},n.createElement(T,{locale:e})))},t}return o.__extends(t,e),t.prototype.render=function(){var e,t="default",o=550;return this.props.isRebrand&&(t="simple",o=null,e="rebrand-locale-modal"),v(d.Modal,{onDismissCompleted:this.handleCloseModal,className:e,ref:"modal",width:o,title:f._("Choose a language:"),acceptButtonText:null,style:t},this._renderLocaleList())},t.displayName="LocaleSelectorModal",t.propTypes={isTeamAdminSettingsConsole:r.bool.isRequired,shouldAllowInternalLocales:r.bool.isRequired,isRebrand:r.bool.isRequired},t})(n.Component);t.LocaleSelectorModal=u(S,["/static/css/components/react_locale_selector-vflcjeevz.css","/static/css/font_atlas_grotesk-vflmCGKGO.css","/static/css/font_sharp_grotesk-vflOv2ZYl.css","/static/css/modal-vfls56Rdx.css"]);var k=(function(e){function n(){var o=null!==e&&e.apply(this,arguments)||this;return o.handleLocaleLinkClick=function(e){return e.preventDefault(),d.Modal.showInstance(v(t.LocaleSelectorModal,{isTeamAdminSettingsConsole:o.props.isTeamAdminSettingsConsole,shouldAllowInternalLocales:o.props.shouldAllowInternalLocales,isRebrand:o.props.isRebrand}))},o._renderLocaleLink=function(){return l.span({id:"locale-link"},v(p.Sprite,{group:"web",name:"globe_gray_20x20",alt:""}),l.button({className:"button-as-link react-locale-selector-link",title:f._("Choose a language"),onClick:o.handleLocaleLinkClick},v(T,{locale:a.find(m.LIST_OF_LOCALES_WITH_INTERNAL,function(e){return e.localeCode===h.USER_LOCALE})}),v(p.Sprite,{class:"arrow",group:"web",name:"arrow-up-gray",alt:""})))},o}return o.__extends(n,e),n.showModal=function(e,o){return void 0===e&&(e=!1),void 0===o&&(o=!0),d.Modal.showInstance(v(t.LocaleSelectorModal,{isTeamAdminSettingsConsole:e,shouldAllowInternalLocales:o}))},n.prototype.render=function(){return l.div({id:"locale-container"},this._renderLocaleLink())},n.displayName="LocaleSelector",n.propTypes={isTeamAdminSettingsConsole:r.bool,shouldAllowInternalLocales:r.bool,isRebrand:r.bool},n.defaultProps={isTeamAdminSettingsConsole:!1,shouldAllowInternalLocales:!0,isRebrand:!1},n})(n.Component),y=u(k,["/static/css/components/react_locale_selector-vflcjeevz.css","/static/css/font_atlas_grotesk-vflmCGKGO.css","/static/css/font_sharp_grotesk-vflOv2ZYl.css","/static/css/index/obsidian/typography-vfl1B2M2Y.css"]);t.LocaleSelector=y,t.initialize_module=C});
//# sourceMappingURL=pkg-lasso-footer.min.js-vfln-7NpD.map